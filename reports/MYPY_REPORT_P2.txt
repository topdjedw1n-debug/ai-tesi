app/schemas/document.py:71: error: Function is missing a type annotation  [no-untyped-def]
app/schemas/document.py:84: error: Function is missing a type annotation  [no-untyped-def]
app/core/config.py:94: error: Unused "type: ignore" comment  [unused-ignore]
app/core/config.py:94: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
app/core/config.py:94: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/core/config.py:125: error: Unused "type: ignore" comment  [unused-ignore]
app/core/config.py:125: error: Function is missing a return type annotation  [no-untyped-def]
app/core/config.py:125: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/core/config.py:125: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
app/core/config.py:173: error: Unused "type: ignore" comment  [unused-ignore]
app/core/config.py:173: error: Function is missing a return type annotation  [no-untyped-def]
app/core/config.py:173: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/core/config.py:173: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
app/core/config.py:202: error: Unused "type: ignore" comment  [unused-ignore]
app/core/config.py:202: error: Function is missing a return type annotation  [no-untyped-def]
app/core/config.py:202: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/core/config.py:332: error: "PydanticDescriptorProxy[ModelValidatorDecoratorInfo]" not callable  [operator]
app/core/database.py:102: error: Unused "type: ignore" comment  [unused-ignore]
app/core/database.py:102: error: Function is missing a type annotation  [no-untyped-def]
app/core/database.py:102: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/core/database.py:106: error: Unused "type: ignore" comment  [unused-ignore]
app/core/database.py:106: error: Function is missing a type annotation  [no-untyped-def]
app/core/database.py:106: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/core/database.py:145: error: The return type of an async generator function should be "AsyncGenerator" or one of its supertypes  [misc]
app/core/database.py:157: error: Function is missing a return type annotation  [no-untyped-def]
app/core/database.py:157: note: Use "-> None" if function does not return a value
app/core/database.py:239: error: Unsupported target for indexed assignment ("object")  [index]
app/models/document.py:70: error: Function is missing a type annotation  [no-untyped-def]
app/models/document.py:107: error: Function is missing a type annotation  [no-untyped-def]
app/models/document.py:132: error: Function is missing a type annotation  [no-untyped-def]
app/models/document.py:164: error: Function is missing a type annotation  [no-untyped-def]
app/models/auth.py:38: error: Function is missing a type annotation  [no-untyped-def]
app/models/auth.py:64: error: Function is missing a type annotation  [no-untyped-def]
app/models/auth.py:91: error: Function is missing a type annotation  [no-untyped-def]
app/services/admin_service.py:35: error: Non-overlapping identity check (left operand type: "Column[bool]", right operand type: "Literal[True]")  [comparison-overlap]
app/services/admin_service.py:35: error: Argument 1 to "and_" has incompatible type "bool"; expected "Literal[True] | ColumnElement[bool] | _HasClauseElement | SQLCoreOperations[bool] | ExpressionElementRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
app/services/admin_service.py:135: error: "User" has no attribute "total_cost"  [attr-defined]
app/services/admin_service.py:143: error: Unsupported operand types for + ("None" and "int")  [operator]
app/services/admin_service.py:143: note: Left operand is of type "int | None"
app/services/admin_service.py:201: error: "AIGenerationJob" has no attribute "input_tokens"  [attr-defined]
app/services/admin_service.py:202: error: "AIGenerationJob" has no attribute "output_tokens"  [attr-defined]
app/services/admin_service.py:205: error: "AIGenerationJob" has no attribute "duration_ms"  [attr-defined]
app/services/admin_service.py:217: error: Unsupported operand types for + ("None" and "int")  [operator]
app/services/admin_service.py:217: note: Left operand is of type "int | None"
app/services/admin_service.py:298: error: Non-overlapping identity check (left operand type: "Column[bool]", right operand type: "Literal[True]")  [comparison-overlap]
app/services/admin_service.py:298: error: Argument 2 to "and_" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement | SQLCoreOperations[bool] | ExpressionElementRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
app/services/admin_service.py:304: error: Unsupported operand types for / ("int" and "None")  [operator]
app/services/admin_service.py:304: error: Unsupported operand types for / ("None" and "int")  [operator]
app/services/admin_service.py:304: error: Unsupported left operand type for / ("None")  [operator]
app/services/admin_service.py:304: note: Both left and right operands are unions
app/services/admin_service.py:304: error: Unsupported operand types for < ("int" and "None")  [operator]
app/services/admin_service.py:304: note: Left operand is of type "int | None"
app/middleware/rate_limit.py:239: error: Argument 1 to "Limiter" has incompatible type "**dict[str, object]"; expected "Callable[..., str]"  [arg-type]
app/middleware/rate_limit.py:239: error: Argument 1 to "Limiter" has incompatible type "**dict[str, object]"; expected "list[str | Callable[..., str]]"  [arg-type]
app/middleware/rate_limit.py:239: error: Argument 1 to "Limiter" has incompatible type "**dict[str, object]"; expected "bool"  [arg-type]
app/middleware/rate_limit.py:239: error: Argument 1 to "Limiter" has incompatible type "**dict[str, object]"; expected "str | None"  [arg-type]
app/middleware/rate_limit.py:239: error: Argument 1 to "Limiter" has incompatible type "**dict[str, object]"; expected "dict[str, str]"  [arg-type]
app/middleware/rate_limit.py:239: error: Argument 1 to "Limiter" has incompatible type "**dict[str, object]"; expected "str"  [arg-type]
app/middleware/rate_limit.py:239: error: Argument 1 to "Limiter" has incompatible type "**dict[str, object]"; expected "Literal['endpoint', 'url']"  [arg-type]
app/middleware/rate_limit.py:268: error: Unused "type: ignore" comment  [unused-ignore]
app/middleware/rate_limit.py:268: error: Function is missing a return type annotation  [no-untyped-def]
app/middleware/rate_limit.py:268: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/middleware/rate_limit.py:308: error: Returning Any from function declared to return "Callable[..., Any]"  [no-any-return]
app/middleware/rate_limit.py:320: error: Function is missing a return type annotation  [no-untyped-def]
app/middleware/rate_limit.py:320: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
app/middleware/csrf.py:18: error: Unused "type: ignore" comment  [unused-ignore]
app/middleware/csrf.py:18: error: Function is missing a return type annotation  [no-untyped-def]
app/middleware/csrf.py:18: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/core/logging.py:92: error: Unused "type: ignore" comment  [unused-ignore]
app/core/logging.py:92: error: Function is missing a return type annotation  [no-untyped-def]
app/core/logging.py:92: note: Error code "no-untyped-def" not covered by "type: ignore" comment
app/core/logging.py:92: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
app/services/document_service.py:275: error: "int" has no attribute "id"  [attr-defined]
app/services/document_service.py:276: error: "int" has no attribute "title"  [attr-defined]
app/services/document_service.py:277: error: "int" has no attribute "section_index"  [attr-defined]
app/services/document_service.py:278: error: "int" has no attribute "section_type"  [attr-defined]
app/services/document_service.py:279: error: "int" has no attribute "content"  [attr-defined]
app/services/document_service.py:280: error: "int" has no attribute "word_count"  [attr-defined]
app/services/document_service.py:281: error: "int" has no attribute "status"  [attr-defined]
app/services/document_service.py:282: error: "int" has no attribute "tokens_used"  [attr-defined]
app/services/document_service.py:283: error: "int" has no attribute "generation_time_seconds"  [attr-defined]
app/services/document_service.py:284: error: "int" has no attribute "created_at"  [attr-defined]
app/services/document_service.py:285: error: "int" has no attribute "completed_at"  [attr-defined]
app/services/auth_service.py:92: error: Non-overlapping identity check (left operand type: "Column[bool]", right operand type: "Literal[False]")  [comparison-overlap]
app/services/auth_service.py:92: error: Argument 2 to "where" of "Select" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement | SQLCoreOperations[bool] | ExpressionElementRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
app/services/auth_service.py:93: error: Non-overlapping identity check (left operand type: "Column[bool]", right operand type: "Literal[False]")  [comparison-overlap]
app/services/auth_service.py:93: error: Argument 3 to "where" of "Select" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement | SQLCoreOperations[bool] | ExpressionElementRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
app/services/auth_service.py:103: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
app/services/auth_service.py:104: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
app/services/auth_service.py:116: error: "MagicLinkToken" has no attribute "last_login"  [attr-defined]
app/services/auth_service.py:117: error: "MagicLinkToken" has no attribute "is_verified"  [attr-defined]
app/services/auth_service.py:120: error: Argument 1 to "_create_access_token" of "AuthService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/services/auth_service.py:121: error: Argument 1 to "_create_refresh_token" of "AuthService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/services/auth_service.py:141: error: "MagicLinkToken" has no attribute "full_name"  [attr-defined]
app/services/auth_service.py:142: error: "MagicLinkToken" has no attribute "is_verified"  [attr-defined]
app/services/auth_service.py:158: error: Non-overlapping identity check (left operand type: "Column[bool]", right operand type: "Literal[True]")  [comparison-overlap]
app/services/auth_service.py:158: error: Argument 2 to "where" of "Select" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement | SQLCoreOperations[bool] | ExpressionElementRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
app/services/auth_service.py:177: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
app/services/auth_service.py:180: error: Argument 1 to "_create_access_token" of "AuthService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/services/auth_service.py:190: error: "UserSession" has no attribute "email"  [attr-defined]
app/services/auth_service.py:191: error: "UserSession" has no attribute "full_name"  [attr-defined]
app/services/auth_service.py:192: error: "UserSession" has no attribute "is_verified"  [attr-defined]
app/services/auth_service.py:227: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
app/services/auth_service.py:289: error: Returning Any from function declared to return "str"  [no-any-return]
app/services/auth_service.py:299: error: Returning Any from function declared to return "str"  [no-any-return]
app/api/v1/endpoints/documents.py:29: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/documents.py:39: error: Argument "user_id" to "create_document" of "DocumentService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/api/v1/endpoints/documents.py:63: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/documents.py:74: error: Argument "user_id" to "get_user_documents" of "DocumentService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/api/v1/endpoints/documents.py:93: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/documents.py:102: error: Argument 2 to "get_document" of "DocumentService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/api/v1/endpoints/documents.py:120: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/documents.py:130: error: Too many arguments for "update_document" of "DocumentService"  [call-arg]
app/api/v1/endpoints/documents.py:130: error: Argument 2 to "update_document" of "DocumentService" has incompatible type "DocumentUpdate"; expected "int"  [arg-type]
app/api/v1/endpoints/documents.py:148: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/documents.py:157: error: Argument 2 to "delete_document" of "DocumentService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/api/v1/endpoints/documents.py:175: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/documents.py:188: error: Argument 3 to "export_document" of "DocumentService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/api/v1/endpoints/documents.py:205: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/documents.py:218: error: Argument 3 to "export_document" of "DocumentService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/api/v1/endpoints/auth.py:31: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/auth.py:106: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/auth.py:190: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/auth.py:274: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/auth.py:306: error: Argument "user_id" to "log_security_audit_event" has incompatible type "dict[str, Any]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/auth.py:332: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:25: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:39: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:54: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:70: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:90: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:104: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:120: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:144: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:158: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:174: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:194: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:208: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:224: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:241: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:254: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:270: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:287: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:306: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:322: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:339: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:353: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:369: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/admin.py:389: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/api/v1/endpoints/admin.py:407: error: Argument "user_id" to "log_security_audit_event" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
app/services/ai_service.py:51: error: Argument "provider" to "_call_ai_provider" of "AIService" has incompatible type "Column[str]"; expected "str"  [arg-type]
app/services/ai_service.py:52: error: Argument "model" to "_call_ai_provider" of "AIService" has incompatible type "Column[str]"; expected "str"  [arg-type]
app/services/ai_service.py:123: error: Argument "provider" to "_call_ai_provider" of "AIService" has incompatible type "Column[str]"; expected "str"  [arg-type]
app/services/ai_service.py:124: error: Argument "model" to "_call_ai_provider" of "AIService" has incompatible type "Column[str]"; expected "str"  [arg-type]
app/services/ai_service.py:143: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
app/services/ai_service.py:145: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
app/services/ai_service.py:146: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
app/services/ai_service.py:148: error: Incompatible types in assignment (expression has type "DocumentSection", variable has type "Document | None")  [assignment]
app/services/ai_service.py:266: error: "AsyncAnthropic" has no attribute "messages"  [attr-defined]
app/services/ai_pipeline/humanizer.py:133: error: "AsyncAnthropic" has no attribute "messages"  [attr-defined]
app/services/ai_pipeline/humanizer.py:143: error: Returning Any from function declared to return "str"  [no-any-return]
app/services/ai_pipeline/generator.py:24: error: Name "Optional" is not defined  [name-defined]
app/services/ai_pipeline/generator.py:24: note: Did you forget to import it from "typing"? (Suggestion: "from typing import Optional")
app/services/ai_pipeline/generator.py:25: error: Name "Optional" is not defined  [name-defined]
app/services/ai_pipeline/generator.py:25: note: Did you forget to import it from "typing"? (Suggestion: "from typing import Optional")
app/services/ai_pipeline/generator.py:26: error: Name "Optional" is not defined  [name-defined]
app/services/ai_pipeline/generator.py:26: note: Did you forget to import it from "typing"? (Suggestion: "from typing import Optional")
app/services/ai_pipeline/generator.py:51: error: Name "Optional" is not defined  [name-defined]
app/services/ai_pipeline/generator.py:51: note: Did you forget to import it from "typing"? (Suggestion: "from typing import Optional")
app/services/ai_pipeline/generator.py:207: error: "AsyncAnthropic" has no attribute "messages"  [attr-defined]
app/services/ai_pipeline/generator.py:217: error: Returning Any from function declared to return "str"  [no-any-return]
app/api/v1/endpoints/generate.py:26: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/generate.py:37: error: Argument "user_id" to "generate_outline" of "AIService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/api/v1/endpoints/generate.py:60: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/generate.py:73: error: Argument "user_id" to "generate_section" of "AIService" has incompatible type "Column[int]"; expected "int"  [arg-type]
app/api/v1/endpoints/generate.py:95: error: Function is missing a return type annotation  [no-untyped-def]
app/api/v1/endpoints/generate.py:111: error: Function is missing a return type annotation  [no-untyped-def]
app/services/background_jobs.py:31: error: Function is missing a return type annotation  [no-untyped-def]
app/services/background_jobs.py:73: error: Untyped decorator makes function "generate_full_document" untyped  [misc]
app/services/background_jobs.py:319: error: Untyped decorator makes function "process_custom_requirement" untyped  [misc]
Found 162 errors in 19 files (checked 34 source files)
