# –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω –¥—ñ–π –¥–ª—è –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Ä–æ–∑—Ä–æ–±–∫–∏ –ø—Ä–æ–µ–∫—Ç—É

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** 31 —Å—ñ—á–Ω—è 2025  
**–ü–æ—Ç–æ—á–Ω–∞ –≤–µ—Ä—Å—ñ—è:** MVP 1.0 (65% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ)  
**–¶—ñ–ª—å:** –ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π MVP –∑–≥—ñ–¥–Ω–æ –∑ PROJECT_INSTRUCTION.md

---

## üìä –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–≥–ª—è–¥

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:** 65% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ  
**–¶—ñ–ª—å–æ–≤–∏–π —Å—Ç–∞–Ω:** 100% MVP —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å  
**–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å:** 3-4 —Ç–∏–∂–Ω—ñ —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏

---

## üéØ –ï—Ç–∞–ø–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

### **–ï–¢–ê–ü 0: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –±–∞–≥—ñ–≤** (2-3 –¥–Ω—ñ)
**–ú–µ—Ç–∞:** –ó—Ä–æ–±–∏—Ç–∏ –±–∞–∑–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Ä–æ–±–æ—á–∏–º

---

### **–ï–¢–ê–ü 1: –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ** (1 —Ç–∏–∂–¥–µ–Ω—å)
**–ú–µ—Ç–∞:** –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

---

### **–ï–¢–ê–ü 2: –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç–∏ —Ç–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—è** (1 —Ç–∏–∂–¥–µ–Ω—å)
**–ú–µ—Ç–∞:** –î–æ–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–∏–π–º–∞—Ç–∏ –æ–ø–ª–∞—Ç—É –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

---

### **–ï–¢–ê–ü 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–≥—ñ–∞—Ç—É —Ç–∞ —è–∫—ñ—Å—Ç—å** (3-4 –¥–Ω—ñ)
**–ú–µ—Ç–∞:** –ì–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ —è–∫—ñ—Å—Ç—å –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É

---

### **–ï–¢–ê–ü 4: –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ç–∞ –ø–æ–ª—ñ—Ä—É–≤–∞–Ω–Ω—è** (3-4 –¥–Ω—ñ)
**–ú–µ—Ç–∞:** –ü–æ–∫—Ä–∞—â–∏—Ç–∏ UX, –¥–æ–¥–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

---

### **–ï–¢–ê–ü 5: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ production** (2-3 –¥–Ω—ñ)
**–ú–µ—Ç–∞:** –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É

---

## üìã –î–µ—Ç–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –¥—ñ–π

---

## üîß –ï–¢–ê–ü 0: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –±–∞–≥—ñ–≤ (2-3 –¥–Ω—ñ)

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–û  
**–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å:** 2-3 –¥–Ω—ñ

### –ö—Ä–æ–∫ 0.1: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ —Ç–∏–ø—ñ–≤ —Ç–∞ –¥–∞—Ç (2-3 –≥–æ–¥–∏–Ω–∏)

#### –ó–∞–¥–∞—á–∞ 0.1.1: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ `time.time()` ‚Üí `datetime.utcnow()`

**–§–∞–π–ª:** `apps/api/app/services/ai_service.py`

**–î—ñ—ó:**
1. –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `time.time()` –¥–ª—è –¥–∞—Ç
2. –ó–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ `datetime.utcnow()`
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å—ñ —ñ–º–ø–æ—Ä—Ç–∏ —î

**–ö–æ–¥:**
```python
# –ë—É–ª–æ:
import time
section.completed_at = time.time()

# –°—Ç–∞–ª–æ:
from datetime import datetime
section.completed_at = datetime.utcnow()
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
- –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Ä–æ–∑–¥—ñ–ª–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î

---

#### –ó–∞–¥–∞—á–∞ 0.1.2: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ type annotation –≤ exceptions.py

**–§–∞–π–ª:** `apps/api/app/core/exceptions.py`

**–î—ñ—ó:**
```python
# –ë—É–ª–æ:
error_code: str = None

# –°—Ç–∞–ª–æ:
from typing import Optional
error_code: Optional[str] = None
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
- `mypy apps/api/app/core/exceptions.py` –º–∞—î –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏

---

### –ö—Ä–æ–∫ 0.2: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ SQL –∑–∞–ø–∏—Ç–∏ (1-2 –≥–æ–¥–∏–Ω–∏)

#### –ó–∞–¥–∞—á–∞ 0.2.1: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ `get_user_usage()`

**–§–∞–π–ª:** `apps/api/app/services/ai_service.py:184-201`

**–î—ñ—ó:**
```python
# –ë—É–ª–æ:
result = await self.db.execute(
    select(
        Document.total_documents_created,  # ‚ùå
        Document.total_tokens_used          # ‚ùå
    ).where(Document.user_id == user_id)
)

# –°—Ç–∞–ª–æ:
from sqlalchemy import func
result = await self.db.execute(
    select(
        func.count(Document.id).label('total_documents'),
        func.sum(Document.tokens_used).label('total_tokens')
    ).where(Document.user_id == user_id)
)
stats = result.first()
return {
    "user_id": user_id,
    "total_documents": stats.total_documents if stats else 0,
    "total_tokens_used": stats.total_tokens if stats and stats.total_tokens else 0,
    "last_updated": datetime.utcnow().isoformat()
}
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
- –¢–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø–∏—Ç: `GET /api/v1/generate/usage/{user_id}`

---

#### –ó–∞–¥–∞—á–∞ 0.2.2: –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–¥ –∑ `total_documents_created` –≤ create_document()

**–§–∞–π–ª:** `apps/api/app/services/document_service.py:52-56`

**–î—ñ—ó:**
- –í–∏–¥–∞–ª–∏—Ç–∏ –∞–±–æ –∑–∞–∫–æ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –±–ª–æ–∫:
```python
# –í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –∫–æ–¥:
await self.db.execute(
    update(Document)
    .where(Document.user_id == user_id)
    .values(total_documents_created=Document.total_documents_created + 1)
)
```

**–ê–±–æ:** –î–æ–¥–∞—Ç–∏ –ø–æ–ª–µ `total_documents_created` –≤ –º–æ–¥–µ–ª—å `User` (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)

---

### –ö—Ä–æ–∫ 0.3: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ Rate Limit initialization (30 —Ö–≤–∏–ª–∏–Ω)

**–§–∞–π–ª:** `apps/api/app/middleware/rate_limit.py`

**–î—ñ—ó:**
```python
# –ó–Ω–∞–π—Ç–∏ —Ä—è–¥–æ–∫ –∑ storage_options=None
# –ó–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞:
storage_options={}  # –î–ª—è memory storage
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ rate limiting —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- –õ–æ–≥–∏ –Ω–µ –º–∞—é—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ AttributeError

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ï—Ç–∞–ø—É 0:
‚úÖ –í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ  
‚úÖ –ë–∞–∑–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –ø—Ä–∞—Ü—é—î  
‚úÖ –ù–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫ —Ç–∏–ø—ñ–≤, —è–∫—ñ –±–ª–æ–∫—É—é—Ç—å —Ä–æ–±–æ—Ç—É

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
- –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏: `pytest apps/api/tests/`
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ health check: `curl http://localhost:8000/health`
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é —Ä–æ–∑–¥—ñ–ª—É (–º–∞—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –≤ –ë–î)

---

## üöÄ –ï–¢–ê–ü 1: –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ (1 —Ç–∏–∂–¥–µ–Ω—å)

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í–ò–°–û–ö–û  
**–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å:** 5-7 –¥–Ω—ñ–≤

### –ö—Ä–æ–∫ 1.1: –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ (2-3 –¥–Ω—ñ)

#### –ó–∞–¥–∞—á–∞ 1.1.1: –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–µ—Ç–æ–¥ `export_document()` –¥–ª—è .docx (1 –¥–µ–Ω—å)

**–§–∞–π–ª:** `apps/api/app/services/document_service.py`

**–î—ñ—ó:**

1. –î–æ–¥–∞—Ç–∏ –º–µ—Ç–æ–¥ `export_document()`:
```python
async def export_document(
    self,
    document_id: int,
    format: str,  # "docx" –∞–±–æ "pdf"
    user_id: int
) -> dict[str, Any]:
    """
    –ï–∫—Å–ø–æ—Ä—Ç—É—î –¥–æ–∫—É–º–µ–Ω—Ç —É .docx –∞–±–æ .pdf —Ñ–æ—Ä–º–∞—Ç
    
    Args:
        document_id: ID –¥–æ–∫—É–º–µ–Ω—Ç–∞
        format: –§–æ—Ä–º–∞—Ç –µ–∫—Å–ø–æ—Ä—Ç—É ("docx" –∞–±–æ "pdf")
        user_id: ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø—É
        
    Returns:
        dict –∑ download_url, expires_at, file_size, format
    """
    # 1. –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç
    document = await self.get_document(document_id, user_id)
    
    # 2. –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ñ–∞–π–ª
    if format == "docx":
        file_path = await self._create_docx(document)
    elif format == "pdf":
        file_path = await self._create_pdf(document)
    else:
        raise ValidationError(f"Unsupported format: {format}")
    
    # 3. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤ MinIO
    s3_url = await self._upload_to_minio(file_path, document_id, format)
    
    # 4. –û–Ω–æ–≤–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë–î
    field = f"{format}_path"
    await self.db.execute(
        update(Document)
        .where(Document.id == document_id)
        .values(**{field: s3_url})
    )
    await self.db.commit()
    
    # 5. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ URL –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    return {
        "download_url": s3_url,
        "expires_at": (datetime.utcnow() + timedelta(days=30)).isoformat(),
        "file_size": os.path.getsize(file_path),
        "format": format
    }
```

2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π –º–µ—Ç–æ–¥ `_create_docx()`:
```python
async def _create_docx(self, document_data: dict) -> str:
    """–°—Ç–≤–æ—Ä—é—î .docx —Ñ–∞–π–ª –∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–º"""
    from docx import Document
    from docx.shared import Pt, Inches
    from docx.enum.text import WD_ALIGN_PARAGRAPH
    
    doc = Document()
    
    # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    sections = doc.sections
    for section in sections:
        section.page_height = Inches(11.69)  # A4
        section.page_width = Inches(8.27)
        section.left_margin = Inches(1.18)
        section.right_margin = Inches(0.59)
        section.top_margin = Inches(0.79)
        section.bottom_margin = Inches(0.79)
    
    # –¢–∏—Ç—É–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
    title = doc.add_heading(document_data["title"], level=0)
    title.alignment = WD_ALIGN_PARAGRAPH.CENTER
    doc.add_page_break()
    
    # –í—Å—Ç—É–ø
    if document_data.get("introduction"):
        doc.add_heading("–í–°–¢–£–ü", level=1)
        doc.add_paragraph(document_data.get("introduction", ""))
    
    # –†–æ–∑–¥—ñ–ª–∏
    for chapter in document_data.get("outline", {}).get("chapters", []):
        doc.add_page_break()
        doc.add_heading(f"–†–û–ó–î–Ü–õ {chapter.get('number', '')}. {chapter.get('title', '').upper()}", level=1)
        
        # –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–µ–∫—Ü—ñ—ó –¥–ª—è —Ü—å–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É
        sections_data = document_data.get("sections", [])
        chapter_sections = [s for s in sections_data if s.get("chapter_number") == chapter.get("number")]
        
        for section in chapter_sections:
            doc.add_heading(f"{section.get('section_index', '')}. {section.get('title', '')}", level=2)
            paragraph = doc.add_paragraph(section.get("content", ""))
            paragraph.style.font.name = "Times New Roman"
            paragraph.style.font.size = Pt(14)
            paragraph.alignment = WD_ALIGN_PARAGRAPH.JUSTIFY
    
    # –í–∏—Å–Ω–æ–≤–∫–∏
    if document_data.get("conclusion"):
        doc.add_page_break()
        doc.add_heading("–í–ò–°–ù–û–í–ö–ò", level=1)
        doc.add_paragraph(document_data.get("conclusion", ""))
    
    # –°–ø–∏—Å–æ–∫ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∏ (—è–∫—â–æ —î)
    if document_data.get("bibliography"):
        doc.add_page_break()
        doc.add_heading("–°–ü–ò–°–û–ö –í–ò–ö–û–†–ò–°–¢–ê–ù–ò–• –î–ñ–ï–†–ï–õ", level=1)
        for i, source in enumerate(document_data.get("bibliography", []), 1):
            doc.add_paragraph(f"{i}. {source}")
    
    # –ó–±–µ—Ä–µ–≥—Ç–∏ —Ñ–∞–π–ª
    filename = f"document_{document_data['id']}_{datetime.utcnow().strftime('%Y%m%d_%H%M%S')}.docx"
    filepath = f"/tmp/{filename}"
    doc.save(filepath)
    
    return filepath
```

3. –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–µ—Ç–æ–¥ `_upload_to_minio()`:
```python
async def _upload_to_minio(self, file_path: str, document_id: int, format: str) -> str:
    """–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ñ–∞–π–ª –≤ MinIO —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î URL"""
    from minio import Minio
    from app.core.config import settings
    
    client = Minio(
        settings.MINIO_ENDPOINT,
        access_key=settings.MINIO_ACCESS_KEY,
        secret_key=settings.MINIO_SECRET_KEY,
        secure=settings.MINIO_SECURE
    )
    
    object_name = f"documents/{document_id}/{datetime.utcnow().strftime('%Y/%m')}/document_{document_id}.{format}"
    
    client.fput_object(
        settings.MINIO_BUCKET,
        object_name,
        file_path
    )
    
    return f"s3://{settings.MINIO_BUCKET}/{object_name}"
```

**–†–µ—Å—É—Ä—Å–∏ –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è:**
- python-docx –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: https://python-docx.readthedocs.io/
- –ü—Ä–∏–∫–ª–∞–¥ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó: PROJECT_INSTRUCTION.md —Ä—è–¥–∫–∏ 1098-1172

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
- –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π –¥–æ–∫—É–º–µ–Ω—Ç
- –í–∏–∫–ª–∏–∫–∞—Ç–∏ `POST /api/v1/documents/{id}/export` –∑ `{"format": "docx"}`
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Ñ–∞–π–ª —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è

---

#### –ó–∞–¥–∞—á–∞ 1.1.2: –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–µ—Ç–æ–¥ `_create_pdf()` (1 –¥–µ–Ω—å)

**–î—ñ—ó:**

1. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ WeasyPrint –∞–±–æ ReportLab (–æ–±–∏–¥–≤–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ)
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ PDF –∑ —Ç–æ–≥–æ –∂ –∫–æ–Ω—Ç–µ–Ω—Ç—É, —â–æ —ñ .docx
3. –ê–±–æ –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ .docx ‚Üí .pdf

**–í–∞—Ä—ñ–∞–Ω—Ç 1: –ü—Ä—è–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF (WeasyPrint)**
```python
async def _create_pdf(self, document_data: dict) -> str:
    """–°—Ç–≤–æ—Ä—é—î .pdf —Ñ–∞–π–ª –∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–º"""
    from weasyprint import HTML, CSS
    from weasyprint.text.fonts import FontConfiguration
    
    # –°—Ç–≤–æ—Ä–∏—Ç–∏ HTML –∑ –∫–æ–Ω—Ç–µ–Ω—Ç—É
    html_content = self._document_to_html(document_data)
    
    # –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ PDF
    filename = f"document_{document_data['id']}_{datetime.utcnow().strftime('%Y%m%d_%H%M%S')}.pdf"
    filepath = f"/tmp/{filename}"
    
    HTML(string=html_content).write_pdf(filepath)
    
    return filepath
```

**–í–∞—Ä—ñ–∞–Ω—Ç 2: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è .docx ‚Üí .pdf (–ø—Ä–æ—Å—Ç—ñ—à–µ)**
- –°–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä–∏—Ç–∏ .docx
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ LibreOffice –∞–±–æ pandoc –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó

**–†–µ—Å—É—Ä—Å–∏:**
- WeasyPrint: https://weasyprint.org/
- ReportLab: https://www.reportlab.com/docs/reportlab-userguide.pdf

---

#### –ó–∞–¥–∞—á–∞ 1.1.3: –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∑ MinIO —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (4-6 –≥–æ–¥–∏–Ω)

**–î—ñ—ó:**
1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MinIO
2. –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è export endpoint
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Ñ–∞–π–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ —á–µ—Ä–µ–∑ URL

---

### –ö—Ä–æ–∫ 1.2: –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ SectionGenerator –≤ AIService (1 –¥–µ–Ω—å)

#### –ó–∞–¥–∞—á–∞ 1.2.1: –ó–∞–º—ñ–Ω–∏—Ç–∏ –ø—Ä–æ—Å—Ç–∏–π AI –≤–∏–∫–ª–∏–∫ –Ω–∞ SectionGenerator

**–§–∞–π–ª:** `apps/api/app/services/ai_service.py`

**–î—ñ—ó:**

1. –û–Ω–æ–≤–∏—Ç–∏ `generate_section()`:
```python
async def generate_section(
    self,
    document_id: int,
    section_title: str,
    section_index: int,
    user_id: int,
    additional_requirements: str | None = None
) -> dict[str, Any]:
    """Generate a specific section using AI with RAG"""
    from app.services.ai_pipeline.generator import SectionGenerator
    from app.services.ai_pipeline.citation_formatter import CitationStyle
    
    # –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç
    result = await self.db.execute(
        select(Document).where(
            Document.id == document_id,
            Document.user_id == user_id
        )
    )
    document = result.scalar_one_or_none()
    
    if not document:
        raise NotFoundError("Document not found")
    
    # –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —Å–µ–∫—Ü—ñ—ó –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
    sections_result = await self.db.execute(
        select(DocumentSection)
        .where(DocumentSection.document_id == document_id)
        .order_by(DocumentSection.section_index)
    )
    previous_sections = [
        {"title": s.title, "content": s.content[:200]}
        for s in sections_result.scalars().all()
        if s.section_index < section_index
    ]
    
    # –°—Ç–≤–æ—Ä–∏—Ç–∏ generator —Ç–∞ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–µ–∫—Ü—ñ—é
    generator = SectionGenerator()
    result = await generator.generate_section(
        document=document,
        section_title=section_title,
        section_index=section_index,
        provider=document.ai_provider,
        model=document.ai_model,
        citation_style=CitationStyle.APA,  # TODO: –û—Ç—Ä–∏–º–∞—Ç–∏ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
        humanize=False,
        context_sections=previous_sections,
        additional_requirements=additional_requirements
    )
    
    # –ó–±–µ—Ä–µ–≥—Ç–∏ —Å–µ–∫—Ü—ñ—é
    section = DocumentSection(
        document_id=document_id,
        title=section_title,
        section_index=section_index,
        content=result["content"],
        status="completed",
        tokens_used=len(result.get("citations", [])) * 100,  # –ü—Ä–∏–±–ª–∏–∑–Ω–∞ –æ—Ü—ñ–Ω–∫–∞
        completed_at=datetime.utcnow()
    )
    self.db.add(section)
    await self.db.commit()
    
    return {
        "document_id": document_id,
        "section_title": section_title,
        "section_index": section_index,
        "content": result["content"],
        "citations": result.get("citations", []),
        "bibliography": result.get("bibliography", []),
        "status": "completed"
    }
```

2. –î–æ–¥–∞—Ç–∏ –ø–æ–ª–µ `citation_style` –≤ –º–æ–¥–µ–ª—å `Document` (–∞–±–æ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤)

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–µ–∫—Ü—ñ—é
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞ –∑ Semantic Scholar
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Ü–∏—Ç–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∞—Ç—É—é—Ç—Å—è

---

### –ö—Ä–æ–∫ 1.3: –ü–æ–∫—Ä–∞—â–∏—Ç–∏ –ø—Ä–æ–º–ø—Ç–∏ –∑–≥—ñ–¥–Ω–æ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é (1 –¥–µ–Ω—å)

#### –ó–∞–¥–∞—á–∞ 1.3.1: –û–Ω–æ–≤–∏—Ç–∏ `build_outline_prompt()` –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é —Ç–∞ –¥–µ—Ç–∞–ª—å–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é

**–§–∞–π–ª:** `apps/api/app/services/ai_pipeline/prompt_builder.py`

**–î—ñ—ó:**

1. –û–Ω–æ–≤–∏—Ç–∏ –º–µ—Ç–æ–¥ `build_outline_prompt()`:
```python
@staticmethod
def build_outline_prompt(
    document: Document,
    additional_requirements: str | None = None
) -> str:
    """Build prompt for outline generation with Ukrainian support"""
    
    work_types_ua = {
        "bachelor": "–±–∞–∫–∞–ª–∞–≤—Ä—Å—å–∫–∞ —Ä–æ–±–æ—Ç–∞",
        "master": "–º–∞–≥—ñ—Å—Ç–µ—Ä—Å—å–∫–∞ –¥–∏—Å–µ—Ä—Ç–∞—Ü—ñ—è",
        "coursework": "–∫—É—Ä—Å–æ–≤–∞ —Ä–æ–±–æ—Ç–∞"
    }
    
    work_type_ua = work_types_ua.get(document.work_type, "–¥–∏–ø–ª–æ–º–Ω–∞ —Ä–æ–±–æ—Ç–∞") if hasattr(document, 'work_type') else "–¥–∏–ø–ª–æ–º–Ω–∞ —Ä–æ–±–æ—Ç–∞"
    
    citation_styles_ua = {
        "apa": "APA",
        "mla": "MLA",
        "chicago": "Chicago"
    }
    citation_style = citation_styles_ua.get(document.citation_style, "APA") if hasattr(document, 'citation_style') else "APA"
    
    prompt = f"""–¢–∏ - –µ–∫—Å–ø–µ—Ä—Ç –∑ –∞–∫–∞–¥–µ–º—ñ—á–Ω–æ–≥–æ –ø–∏—Å—å–º–∞. –°—Ç–≤–æ—Ä–∏ –¥–µ—Ç–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è {work_type_ua} –Ω–∞ —Ç–µ–º—É:

"{document.topic}"

–í–∏–º–æ–≥–∏:
- –û–±—Å—è–≥ —Ä–æ–±–æ—Ç–∏: –ø—Ä–∏–±–ª–∏–∑–Ω–æ {document.target_pages} —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- –°—Ç–∏–ª—å —Ü–∏—Ç—É–≤–∞–Ω–Ω—è: {citation_style}
- –ú–æ–≤–∞: {document.language}
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –∞–∫–∞–¥–µ–º—ñ—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏

–ü–ª–∞–Ω –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏:
1. –í—Å—Ç—É–ø (–∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å, –º–µ—Ç–∞, –∑–∞–≤–¥–∞–Ω–Ω—è, –æ–±'—î–∫—Ç, –ø—Ä–µ–¥–º–µ—Ç)
2. –†–æ–∑–¥—ñ–ª–∏ (2-3 –æ—Å–Ω–æ–≤–Ω–∏—Ö)
   - –ö–æ–∂–µ–Ω —Ä–æ–∑–¥—ñ–ª –∑ 2-3 –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞–º–∏
   - –ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –∑–º—ñ—Å—Ç—É (2-3 —Ä–µ—á–µ–Ω–Ω—è)
3. –í–∏—Å–Ω–æ–≤–∫–∏
4. –°–ø–∏—Å–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª (–º—ñ–Ω—ñ–º—É–º 15 –¥–∂–µ—Ä–µ–ª)

–§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (JSON):
{{
  "title": "–ü–æ–≤–Ω–∞ –Ω–∞–∑–≤–∞ —Ä–æ–±–æ—Ç–∏",
  "introduction": {{
    "relevance": "–¢–µ–∫—Å—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—ñ",
    "goal": "–ú–µ—Ç–∞ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è",
    "tasks": ["–ó–∞–≤–¥–∞–Ω–Ω—è 1", "–ó–∞–≤–¥–∞–Ω–Ω—è 2", ...],
    "object": "–û–±'—î–∫—Ç –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è",
    "subject": "–ü—Ä–µ–¥–º–µ—Ç –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è"
  }},
  "chapters": [
    {{
      "number": 1,
      "title": "–ù–∞–∑–≤–∞ —Ä–æ–∑–¥—ñ–ª—É",
      "description": "–û–ø–∏—Å –∑–º—ñ—Å—Ç—É —Ä–æ–∑–¥—ñ–ª—É",
      "sections": [
        {{"number": 1.1, "title": "–ù–∞–∑–≤–∞ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É", "description": "–û–ø–∏—Å"}},
        ...
      ]
    }},
    ...
  ],
  "conclusion": "–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å —Ç–æ–≥–æ, —â–æ –º–∞—î –±—É—Ç–∏ —É –≤–∏—Å–Ω–æ–≤–∫–∞—Ö"
}}

–î–æ–¥–∞—Ç–∫–æ–≤—ñ –≤–∏–º–æ–≥–∏: {additional_requirements or '–ù–µ–º–∞—î'}

–ü–∏—à–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –∞–∫–∞–¥–µ–º—ñ—á–Ω–∏–π —Å—Ç–∏–ª—å. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –¢–Ü–õ–¨–ö–ò JSON, –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç—É."""
    
    return prompt.strip()
```

2. –î–æ–¥–∞—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥ JSON –≤ `generate_outline()`:
```python
import json

# –ü—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ AI:
try:
    outline_data = json.loads(response["content"])
except json.JSONDecodeError:
    # –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤–∏—Ç—è–≥–Ω—É—Ç–∏ JSON –∑ —Ç–µ–∫—Å—Ç—É
    import re
    json_match = re.search(r'\{.*\}', response["content"], re.DOTALL)
    if json_match:
        outline_data = json.loads(json_match.group())
    else:
        raise AIProviderError("Failed to parse outline JSON from AI response")
```

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ outline –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ JSON –ø–∞—Ä—Å–∏—Ç—å—Å—è

---

### –ö—Ä–æ–∫ 1.4: –î–æ–¥–∞—Ç–∏ –ø–æ–ª—è work_type —Ç–∞ citation_style –≤ –º–æ–¥–µ–ª—å (4-6 –≥–æ–¥–∏–Ω)

#### –ó–∞–¥–∞—á–∞ 1.4.1: –°—Ç–≤–æ—Ä–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é Alembic

**–î—ñ—ó:**

1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é:
```bash
cd apps/api
alembic revision -m "add_work_type_and_citation_style_to_documents"
```

2. –£ —Ñ–∞–π–ª—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó:
```python
def upgrade():
    op.add_column('documents', sa.Column('work_type', sa.String(50), nullable=True))
    op.add_column('documents', sa.Column('citation_style', sa.String(50), nullable=True, server_default='apa'))

def downgrade():
    op.drop_column('documents', 'work_type')
    op.drop_column('documents', 'citation_style')
```

3. –û–Ω–æ–≤–∏—Ç–∏ –º–æ–¥–µ–ª—å `Document`:
```python
work_type = Column(String(50), default="bachelor")  # bachelor, master, coursework
citation_style = Column(String(50), default="apa")  # apa, mla, chicago
```

4. –û–Ω–æ–≤–∏—Ç–∏ —Å—Ö–µ–º—É `DocumentCreate`:
```python
work_type: Literal["bachelor", "master", "coursework"] = Field(default="bachelor")
citation_style: Literal["apa", "mla", "chicago"] = Field(default="apa")
```

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
- –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é
- –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç –∑ –Ω–æ–≤–∏–º–∏ –ø–æ–ª—è–º–∏
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ï—Ç–∞–ø—É 1:
‚úÖ –ï–∫—Å–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –ø—Ä–∞—Ü—é—î (.docx —Ç–∞ .pdf)  
‚úÖ RAG —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π —É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é —Ä–æ–∑–¥—ñ–ª—ñ–≤  
‚úÖ –ü—Ä–æ–º–ø—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó  
‚úÖ –ú–æ–¥–µ–ª—å Document –º–∞—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–æ–ª—è

---

## üí≥ –ï–¢–ê–ü 2: –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç–∏ —Ç–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—è (1 —Ç–∏–∂–¥–µ–Ω—å)

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í–ò–°–û–ö–û  
**–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å:** 5-7 –¥–Ω—ñ–≤

### –ö—Ä–æ–∫ 2.1: –í–∏–±—ñ—Ä —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–ª–∞—Ç—ñ–∂–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ (1 –¥–µ–Ω—å)

#### –ó–∞–¥–∞—á–∞ 2.1.1: –í–∏–±—Ä–∞—Ç–∏ –ø–ª–∞—Ç—ñ–∂–Ω—É —Å–∏—Å—Ç–µ–º—É

**–í–∞—Ä—ñ–∞–Ω—Ç–∏:**
1. **Stripe** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
   - ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
   - ‚úÖ –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –∫–∞—Ä—Ç–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å
   - ‚úÖ –î–æ–±—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
   - ‚ö†Ô∏è –ö–æ–º—ñ—Å—ñ—è: 3.4% + ‚Ç¥2.50 –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é

2. **Fondy**
   - ‚úÖ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ —Å–∏—Å—Ç–µ–º–∞
   - ‚úÖ –ù–∏–∂—á—ñ –∫–æ–º—ñ—Å—ñ—ó –¥–ª—è UA –∫–∞—Ä—Ç–æ–∫
   - ‚ö†Ô∏è –ú–µ–Ω—à–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** Stripe (–∫—Ä–∞—â–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è)

---

#### –ó–∞–¥–∞—á–∞ 2.1.2: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Stripe SDK

```bash
cd apps/api
pip install stripe
# –î–æ–¥–∞—Ç–∏ –≤ requirements.txt: stripe>=7.0.0
```

---

### –ö—Ä–æ–∫ 2.2: –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–æ–¥–µ–ª—å Payment (4-6 –≥–æ–¥–∏–Ω)

#### –ó–∞–¥–∞—á–∞ 2.2.1: –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–æ–¥–µ–ª—å —Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—é

**–§–∞–π–ª:** `apps/api/app/models/payment.py` (–Ω–æ–≤–∏–π —Ñ–∞–π–ª)

```python
from sqlalchemy import Column, Integer, String, DateTime, ForeignKey, Numeric, Boolean
from sqlalchemy.sql import func
from app.core.database import Base

class Payment(Base):
    """Payment model"""
    __tablename__ = "payments"
    
    id = Column(Integer, primary_key=True, index=True)
    user_id = Column(Integer, ForeignKey("users.id"), nullable=False)
    document_id = Column(Integer, ForeignKey("documents.id"), nullable=True)
    
    # Stripe –¥–∞–Ω—ñ
    stripe_payment_intent_id = Column(String(255), unique=True, nullable=True)
    stripe_customer_id = Column(String(255), nullable=True)
    
    # –°—É–º–∞ —Ç–∞ –≤–∞–ª—é—Ç–∞
    amount = Column(Numeric(10, 2), nullable=False)  # –°—É–º–∞ –≤ –¥–æ–ª–∞—Ä–∞—Ö
    currency = Column(String(3), default="USD")
    
    # –°—Ç–∞—Ç—É—Å
    status = Column(String(50), default="pending")  # pending, succeeded, failed, refunded
    payment_method = Column(String(50))  # card, bank_transfer, etc.
    
    # –ú–µ—Ç–∞–¥–∞–Ω—ñ
    description = Column(String(500))
    metadata = Column(JSON)  # –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ
    
    # Timestamps
    created_at = Column(DateTime(timezone=True), server_default=func.now())
    updated_at = Column(DateTime(timezone=True), server_default=func.now(), onupdate=func.now())
    paid_at = Column(DateTime(timezone=True), nullable=True)
```

**–ú—ñ–≥—Ä–∞—Ü—ñ—è:**
```bash
alembic revision -m "create_payments_table"
```

---

### –ö—Ä–æ–∫ 2.3: –°—Ç–≤–æ—Ä–∏—Ç–∏ PaymentService (1 –¥–µ–Ω—å)

#### –ó–∞–¥–∞—á–∞ 2.3.1: –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–ª–∞—Ç–µ–∂—É

**–§–∞–π–ª:** `apps/api/app/services/payment_service.py` (–Ω–æ–≤–∏–π —Ñ–∞–π–ª)

```python
import stripe
from app.core.config import settings
from app.models.payment import Payment
from app.models.document import Document

class PaymentService:
    def __init__(self, db: AsyncSession):
        self.db = db
        stripe.api_key = settings.STRIPE_SECRET_KEY  # –î–æ–¥–∞—Ç–∏ –≤ config.py
    
    async def create_payment(
        self,
        user_id: int,
        document_id: int,
        amount: float,
        currency: str = "USD"
    ) -> dict[str, Any]:
        """–°—Ç–≤–æ—Ä—é—î –ø–ª–∞—Ç—ñ–∂ —á–µ—Ä–µ–∑ Stripe"""
        
        # –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç
        document = await self._get_document(document_id, user_id)
        
        # –°—Ç–≤–æ—Ä–∏—Ç–∏ Payment Intent –≤ Stripe
        intent = stripe.PaymentIntent.create(
            amount=int(amount * 100),  # Stripe –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ü–µ–Ω—Ç–∏
            currency=currency.lower(),
            metadata={
                "user_id": user_id,
                "document_id": document_id,
                "document_title": document.title
            },
            description=f"Payment for document: {document.title}"
        )
        
        # –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ –ë–î
        payment = Payment(
            user_id=user_id,
            document_id=document_id,
            stripe_payment_intent_id=intent.id,
            amount=amount,
            currency=currency,
            status="pending",
            description=f"Payment for document: {document.title}"
        )
        self.db.add(payment)
        await self.db.commit()
        
        return {
            "payment_id": payment.id,
            "client_secret": intent.client_secret,
            "amount": amount,
            "currency": currency
        }
```

---

#### –ó–∞–¥–∞—á–∞ 2.3.2: –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ webhook handler

**–§–∞–π–ª:** `apps/api/app/api/v1/endpoints/payment.py` (–Ω–æ–≤–∏–π —Ñ–∞–π–ª)

```python
from fastapi import APIRouter, Request, Header, HTTPException
import stripe
from app.core.config import settings

router = APIRouter()

@router.post("/webhook")
async def stripe_webhook(
    request: Request,
    stripe_signature: str = Header(None)
):
    """–û–±—Ä–æ–±–∫–∞ webhook –≤—ñ–¥ Stripe"""
    payload = await request.body()
    
    try:
        event = stripe.Webhook.construct_event(
            payload, 
            stripe_signature, 
            settings.STRIPE_WEBHOOK_SECRET
        )
    except ValueError:
        raise HTTPException(status_code=400, detail="Invalid payload")
    except stripe.error.SignatureVerificationError:
        raise HTTPException(status_code=400, detail="Invalid signature")
    
    # –û–±—Ä–æ–±–∏—Ç–∏ –ø–æ–¥—ñ—é
    if event.type == "payment_intent.succeeded":
        payment_intent = event.data.object
        # –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂—É –≤ –ë–î
        await update_payment_status(payment_intent.id, "succeeded")
        # –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞
        await unlock_document(payment_intent.metadata.document_id)
    
    return {"status": "ok"}
```

---

### –ö—Ä–æ–∫ 2.4: –°—Ç–≤–æ—Ä–∏—Ç–∏ frontend —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é (1 –¥–µ–Ω—å)

#### –ó–∞–¥–∞—á–∞ 2.4.1: –î–æ–¥–∞—Ç–∏ Stripe Elements –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –æ–ø–ª–∞—Ç–∏

**–§–∞–π–ª:** `apps/web/app/payment/page.tsx` (–Ω–æ–≤–∏–π —Ñ–∞–π–ª)

```typescript
'use client'

import { loadStripe } from '@stripe/stripe-js'
import { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js'
import { useState } from 'react'

const stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY!)

export default function PaymentPage({ params }: { params: { documentId: string } }) {
  const [amount, setAmount] = useState(0)
  const [loading, setLoading] = useState(false)
  
  // –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—É–º—É –∑ API
  useEffect(() => {
    fetch(`/api/v1/payment/calculate/${params.documentId}`)
      .then(res => res.json())
      .then(data => setAmount(data.amount))
  }, [])
  
  return (
    <Elements stripe={stripePromise}>
      <PaymentForm documentId={params.documentId} amount={amount} />
    </Elements>
  )
}
```

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ï—Ç–∞–ø—É 2:
‚úÖ –ü–ª–∞—Ç—ñ–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞  
‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –æ–ø–ª–∞—á—É–≤–∞—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é  
‚úÖ Webhook –æ–±—Ä–æ–±–ª—è—î —É—Å–ø—ñ—à–Ω—ñ –ø–ª–∞—Ç–µ–∂—ñ  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏ —Ä–æ–∑–±–ª–æ–∫–æ–≤—É—é—Ç—å—Å—è –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏

---

## üîç –ï–¢–ê–ü 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–≥—ñ–∞—Ç—É —Ç–∞ —è–∫—ñ—Å—Ç—å (3-4 –¥–Ω—ñ)

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** üü° –°–ï–†–ï–î–ù–¨–û  
**–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å:** 3-4 –¥–Ω—ñ

### –ö—Ä–æ–∫ 3.1: –í–∏–±—ñ—Ä —Å–µ—Ä–≤—ñ—Å—É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø–ª–∞–≥—ñ–∞—Ç—É (4-6 –≥–æ–¥–∏–Ω)

**–í–∞—Ä—ñ–∞–Ω—Ç–∏:**
1. **Copyleaks** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
   - ‚úÖ API –¥–æ—Å—Ç—É–ø–Ω–∏–π
   - ‚úÖ –•–æ—Ä–æ—à–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
   - ‚ö†Ô∏è –ü–ª–∞—Ç–Ω–∏–π (‚âà $10 –∑–∞ 100 –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫)

2. **PlagiarismSearch**
   - ‚úÖ –î–µ—à–µ–≤—à–∏–π
   - ‚ö†Ô∏è –ú–µ–Ω—à–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** Copyleaks (–∫—Ä–∞—â–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è)

---

### –ö—Ä–æ–∫ 3.2: –°—Ç–≤–æ—Ä–∏—Ç–∏ PlagiarismService (1 –¥–µ–Ω—å)

**–§–∞–π–ª:** `apps/api/app/services/plagiarism_service.py` (–Ω–æ–≤–∏–π —Ñ–∞–π–ª)

```python
import httpx
from app.core.config import settings

class PlagiarismService:
    def __init__(self):
        self.api_key = settings.COPYLEAKS_API_KEY
        self.base_url = "https://api.copyleaks.com/v3"
    
    async def check_plagiarism(self, text: str, document_id: int) -> dict:
        """–ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–µ–∫—Å—Ç –Ω–∞ –ø–ª–∞–≥—ñ–∞—Ç"""
        # 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ scan
        # 2. –î–æ—á–µ–∫–∞—Ç–∏—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
        # 3. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –∑–≤—ñ—Ç
        pass
```

---

### –ö—Ä–æ–∫ 3.3: –î–æ–¥–∞—Ç–∏ endpoint —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é (1 –¥–µ–Ω—å)

**–§–∞–π–ª:** `apps/api/app/api/v1/endpoints/documents.py`

–î–æ–¥–∞—Ç–∏:
```python
@router.post("/{document_id}/plagiarism/check")
async def check_plagiarism(...):
    """–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –ø–ª–∞–≥—ñ–∞—Ç"""
    pass
```

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ï—Ç–∞–ø—É 3:
‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–≥—ñ–∞—Ç—É –ø—Ä–∞—Ü—é—î  
‚úÖ –ó–≤—ñ—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î  
‚úÖ Frontend –ø–æ–∫–∞–∑—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

---

## ‚ú® –ï–¢–ê–ü 4: –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ç–∞ –ø–æ–ª—ñ—Ä—É–≤–∞–Ω–Ω—è (3-4 –¥–Ω—ñ)

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** üü° –°–ï–†–ï–î–ù–¨–û  
**–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å:** 3-4 –¥–Ω—ñ

### –ö—Ä–æ–∫ 4.1: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ frontend —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é (1 –¥–µ–Ω—å)

#### –ó–∞–¥–∞—á–∞ 4.1.1: –û–Ω–æ–≤–∏—Ç–∏ GenerateSectionForm

**–§–∞–π–ª:** `apps/web/components/dashboard/GenerateSectionForm.tsx`

**–î—ñ—ó:**
1. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π API URL
2. –î–æ–¥–∞—Ç–∏ authentication header
3. –î–æ–¥–∞—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫
4. –î–æ–¥–∞—Ç–∏ –ø–æ–ª—è work_type —Ç–∞ citation_style

---

#### –ó–∞–¥–∞—á–∞ 4.1.2: –û–Ω–æ–≤–∏—Ç–∏ AuthProvider

**–§–∞–π–ª:** `apps/web/components/providers/AuthProvider.tsx`

**–î—ñ—ó:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/api/v1/auth/me`
2. –î–æ–¥–∞—Ç–∏ refresh token –ª–æ–≥—ñ–∫—É

---

#### –ó–∞–¥–∞—á–∞ 4.1.3: –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ Dashboard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

**–§–∞–π–ª–∏:**
- `DocumentsList.tsx`
- `StatsOverview.tsx`
- `RecentActivity.tsx`

---

### –ö—Ä–æ–∫ 4.2: –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é —Ü–∏—Ç–∞—Ç (4-6 –≥–æ–¥–∏–Ω)

#### –ó–∞–¥–∞—á–∞ 4.2.1: –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `validate_citations()`

**–§–∞–π–ª:** `apps/api/app/services/ai_pipeline/citation_validator.py` (–Ω–æ–≤–∏–π —Ñ–∞–π–ª)

```python
import re
from typing import List, Dict

def validate_citations(text: str, sources: List[Dict]) -> bool:
    """–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –≤—Å—ñ —Ü–∏—Ç–∞—Ç–∏ –≤ —Ç–µ–∫—Å—Ç—ñ —î —É —Å–ø–∏—Å–∫—É –¥–∂–µ—Ä–µ–ª"""
    # –í–∏—Ç—è–≥–Ω—É—Ç–∏ –≤—Å—ñ —Ü–∏—Ç–∞—Ç–∏
    citations = re.findall(r'\(([A-Z][a-z]+(?:\s+et\s+al\.)?),\s*(\d{4})\)', text)
    
    # –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ –≤–∞–ª—ñ–¥–Ω–∏—Ö —Ü–∏—Ç–∞—Ç
    valid_citations = [
        (source['authors'][0]['name'].split()[-1], str(source['year']))
        for source in sources
    ]
    
    # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–∂–Ω—É —Ü–∏—Ç–∞—Ç—É
    for author, year in citations:
        author = author.replace(" et al.", "")
        if (author, year) not in valid_citations:
            return False
    
    return True
```

---

### –ö—Ä–æ–∫ 4.3: –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ email —Å–µ—Ä–≤—ñ—Å (4-6 –≥–æ–¥–∏–Ω)

#### –ó–∞–¥–∞—á–∞ 4.3.1: –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ SMTP

**–§–∞–π–ª:** `apps/api/app/services/email_service.py` (–Ω–æ–≤–∏–π —Ñ–∞–π–ª)

–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `fastapi-mail` (–≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ï—Ç–∞–ø—É 4:
‚úÖ Frontend –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π  
‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ü–∏—Ç–∞—Ç –ø—Ä–∞—Ü—é—î  
‚úÖ Email —Å–µ—Ä–≤—ñ—Å –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π

---

## üß™ –ï–¢–ê–ü 5: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ production (2-3 –¥–Ω—ñ)

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í–ò–°–û–ö–û  
**–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å:** 2-3 –¥–Ω—ñ

### –ö—Ä–æ–∫ 5.1: –ù–∞–ø–∏—Å–∞—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ (1 –¥–µ–Ω—å)

**–î—ñ—ó:**
1. –¢–µ—Å—Ç–∏ –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
2. –¢–µ—Å—Ç–∏ –¥–ª—è –ø–ª–∞—Ç–µ–∂–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ (–∑ –º–æ–∫–∞–º–∏)
3. –¢–µ—Å—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø–ª–∞–≥—ñ–∞—Ç—É (–∑ –º–æ–∫–∞–º–∏)
4. E2E —Ç–µ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ workflow

---

### –ö—Ä–æ–∫ 5.2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è production environment (1 –¥–µ–Ω—å)

**–î—ñ—ó:**
1. –û–Ω–æ–≤–∏—Ç–∏ `.env.example` –∑ —É—Å—ñ–º–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ docker-compose.prod.yml
3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏
4. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

---

### –ö—Ä–æ–∫ 5.3: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ deployment guide (4-6 –≥–æ–¥–∏–Ω)

**–î—ñ—ó:**
1. –û–Ω–æ–≤–∏—Ç–∏ README.md
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ DEPLOYMENT.md
3. –î–æ–¥–∞—Ç–∏ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
4. –°—Ç–≤–æ—Ä–∏—Ç–∏ user guide

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ï—Ç–∞–ø—É 5:
‚úÖ –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å  
‚úÖ Production environment –≥–æ—Ç–æ–≤–∏–π  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞

---

## üìä –ó–∞–≥–∞–ª—å–Ω–∏–π Timeline

| –ï—Ç–∞–ø | –ß–∞—Å | –°—Ç–∞—Ç—É—Å |
|------|-----|--------|
| –ï—Ç–∞–ø 0: –ö—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏ | 2-3 –¥–Ω—ñ | ‚è≥ –ü–æ—Ç—Ä—ñ–±–Ω–æ |
| –ï—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å | 1 —Ç–∏–∂–¥–µ–Ω—å | ‚è≥ –ü–æ—Ç—Ä—ñ–±–Ω–æ |
| –ï—Ç–∞–ø 2: –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç–∏ | 1 —Ç–∏–∂–¥–µ–Ω—å | ‚è≥ –ü–æ—Ç—Ä—ñ–±–Ω–æ |
| –ï—Ç–∞–ø 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–≥—ñ–∞—Ç—É | 3-4 –¥–Ω—ñ | ‚è≥ –ü–æ—Ç—Ä—ñ–±–Ω–æ |
| –ï—Ç–∞–ø 4: –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è | 3-4 –¥–Ω—ñ | ‚è≥ –ü–æ—Ç—Ä—ñ–±–Ω–æ |
| –ï—Ç–∞–ø 5: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è | 2-3 –¥–Ω—ñ | ‚è≥ –ü–æ—Ç—Ä—ñ–±–Ω–æ |
| **–í—Å—å–æ–≥–æ** | **3-4 —Ç–∏–∂–Ω—ñ** | |

---

## üéØ –ö—Ä–∏—Ç–∏—á–Ω—ñ —à–ª—è—Ö–∏

**–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π MVP (–±–µ–∑ –æ–ø–ª–∞—Ç–∏ —Ç–∞ –ø–ª–∞–≥—ñ–∞—Ç—É):**
1. –ï—Ç–∞–ø 0 (2-3 –¥–Ω—ñ)
2. –ï—Ç–∞–ø 1 (1 —Ç–∏–∂–¥–µ–Ω—å)
3. –ï—Ç–∞–ø 4 (—á–∞—Å—Ç–∫–æ–≤–æ, 1-2 –¥–Ω—ñ)
4. –ï—Ç–∞–ø 5 (2-3 –¥–Ω—ñ)

**–ß–∞—Å:** ~2 —Ç–∏–∂–Ω—ñ

**–ü–æ–≤–Ω–∏–π MVP:**
- –í—Å—ñ –µ—Ç–∞–ø–∏ (3-4 —Ç–∏–∂–Ω—ñ)

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –¥–æ production

- [ ] –í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ
- [ ] –ï–∫—Å–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –ø—Ä–∞—Ü—é—î
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∞
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–≥—ñ–∞—Ç—É –ø—Ä–∞—Ü—é—î
- [ ] Frontend –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π
- [ ] Email —Å–µ—Ä–≤—ñ—Å –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
- [ ] –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
- [ ] Production environment –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
- [ ] Backup —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 31 —Å—ñ—á–Ω—è 2025  
**–í–µ—Ä—Å—ñ—è –ø–ª–∞–Ω—É:** 1.0

