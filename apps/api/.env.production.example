# ===================================================================
# TesiGo Production Environment Configuration
# ===================================================================
# CRITICAL: Never commit this file with real values!
# Copy to .env and fill with actual production values.
# ===================================================================

# ===================================================================
# DATABASE
# ===================================================================
DATABASE_URL=postgresql://tesigo_prod_user:CHANGE_THIS_STRONG_PASSWORD@db-host:5432/tesigo_production

# ===================================================================
# SECURITY (CRITICAL - MUST CHANGE)
# ===================================================================
# Generate strong secrets with: python scripts/generate_secrets.py
# Minimum 64 characters for production
SECRET_KEY=CHANGE_THIS_TO_RANDOM_64_PLUS_CHARS_GENERATED_SECRET_KEY_USE_GENERATE_SECRETS_SCRIPT
JWT_SECRET=CHANGE_THIS_TO_RANDOM_64_PLUS_CHARS_GENERATED_JWT_SECRET_USE_GENERATE_SECRETS_SCRIPT

# ===================================================================
# AI APIs (REQUIRED)
# ===================================================================
OPENAI_API_KEY=sk-proj-PRODUCTION_OPENAI_KEY_HERE
ANTHROPIC_API_KEY=sk-ant-PRODUCTION_ANTHROPIC_KEY_HERE
TAVILY_API_KEY=tvly-PRODUCTION_TAVILY_KEY_HERE

# AI Retry & Fallback Configuration
AI_MAX_RETRIES=3
AI_RETRY_DELAYS=2,4,8
AI_ENABLE_FALLBACK=true
AI_FALLBACK_CHAIN=openai:gpt-4,openai:gpt-3.5-turbo,anthropic:claude-3-5-sonnet-20241022

# ===================================================================
# QUALITY GATES CONFIGURATION
# ===================================================================
# Grammar threshold: max errors before regeneration
QUALITY_MAX_GRAMMAR_ERRORS=5
# Plagiarism threshold: min uniqueness % required (90% = 10% plagiarism max)
QUALITY_MIN_PLAGIARISM_UNIQUENESS=90.0
# AI detection threshold: max AI-generated % before rejection
QUALITY_MAX_AI_DETECTION_SCORE=45.0
# Max regeneration attempts per section
QUALITY_MAX_REGENERATE_ATTEMPTS=2
# Enable quality gates
QUALITY_GATES_ENABLED=true
# Max previous sections in context
QUALITY_GATES_MAX_CONTEXT_SECTIONS=10

# ===================================================================
# QUALITY CHECK APIs
# ===================================================================
# AI Detection
GPTZERO_API_KEY=PRODUCTION_GPTZERO_API_KEY
ORIGINALITY_AI_API_KEY=PRODUCTION_ORIGINALITY_AI_KEY
AI_DETECTION_ENABLED=true

# Grammar Check
LANGUAGETOOL_API_URL=https://api.languagetool.org/v2
LANGUAGETOOL_API_KEY=PRODUCTION_LANGUAGETOOL_KEY_IF_PREMIUM
LANGUAGETOOL_ENABLED=true

# Plagiarism Check
COPYSCAPE_API_KEY=PRODUCTION_COPYSCAPE_API_KEY
COPYSCAPE_USERNAME=PRODUCTION_COPYSCAPE_USERNAME

# ===================================================================
# STORAGE
# ===================================================================
MINIO_ENDPOINT=minio.production.domain.com:9000
MINIO_ACCESS_KEY=PRODUCTION_MINIO_ACCESS_KEY_MIN_20_CHARS
MINIO_SECRET_KEY=PRODUCTION_MINIO_SECRET_KEY_MIN_40_CHARS
MINIO_BUCKET=tesigo-production-documents
MINIO_USE_SSL=true

# ===================================================================
# REDIS
# ===================================================================
REDIS_URL=redis://redis.production.domain.com:6379/0
REDIS_PASSWORD=PRODUCTION_REDIS_PASSWORD_IF_ENABLED

# ===================================================================
# PAYMENT (STRIPE PRODUCTION KEYS)
# ===================================================================
STRIPE_SECRET_KEY=sk_live_PRODUCTION_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_PRODUCTION_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_PRODUCTION_WEBHOOK_SECRET_FROM_STRIPE_DASHBOARD

# ===================================================================
# EMAIL / SMTP (REQUIRED FOR NOTIFICATIONS)
# ===================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=notifications@tesigo.com
SMTP_PASSWORD=APP_SPECIFIC_PASSWORD_FROM_GMAIL_OR_EMAIL_PROVIDER
SMTP_FROM_EMAIL=TesiGo <no-reply@tesigo.com>
SMTP_FROM_NAME=TesiGo Platform
SMTP_USE_TLS=true

# ===================================================================
# MONITORING & LOGGING
# ===================================================================
# Sentry for error tracking
SENTRY_DSN=https://PUBLIC_KEY@o123456.ingest.sentry.io/PROJECT_ID
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus metrics
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# ===================================================================
# APPLICATION SETTINGS
# ===================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# CORS - Frontend domain
CORS_ALLOWED_ORIGINS=https://tesigo.com,https://www.tesigo.com
ALLOWED_HOSTS=tesigo.com,www.tesigo.com,api.tesigo.com

# Admin IP whitelist (comma-separated)
ADMIN_IP_WHITELIST=YOUR_OFFICE_IP_HERE,YOUR_VPN_IP_HERE

# ===================================================================
# RATE LIMITING
# ===================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_IP=100
RATE_LIMIT_WINDOW_SECONDS=60

# ===================================================================
# MAINTENANCE MODE
# ===================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. We'll be back soon.

# ===================================================================
# BACKUP CONFIGURATION
# ===================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=tesigo-backups-production
BACKUP_S3_REGION=eu-central-1

# ===================================================================
# PERFORMANCE
# ===================================================================
UVICORN_WORKERS=4
UVICORN_MAX_REQUESTS=1000
UVICORN_MAX_REQUESTS_JITTER=50
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ===================================================================
# FEATURE FLAGS
# ===================================================================
FEATURE_AI_SELF_LEARNING=false
FEATURE_MULTI_LANGUAGE_UI=false
FEATURE_COLLABORATION=false
