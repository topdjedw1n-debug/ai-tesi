# –î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ –≤—Å—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –ø–æ–º–∏–ª–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç—ñ

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** 31 —Å—ñ—á–Ω—è 2025  
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç—É:** MVP –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ  
**–ú–µ—Ç–∞:** –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –≤—Å—ñ—Ö –≤–∏—è–≤–ª–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º, –±–∞–≥—ñ–≤, —Å–ø—Ä–æ–± –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–µ–≤–∏—Ä—ñ—à–µ–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å

---

## üìã –ó–º—ñ—Å—Ç

1. [–ö—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏ (—â–æ –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å)](#–∫—Ä–∏—Ç–∏—á–Ω—ñ-–±–∞–≥–∏-—â–æ-–Ω–µ-–ø—Ä–∞—Ü—é—é—Ç—å)
2. [–í—ñ–¥—Å—É—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó](#–≤—ñ–¥—Å—É—Ç–Ω—ñ-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó)
3. [–ü–æ–º–∏–ª–∫–∏ —Ç–∏–ø—É —Ç–∞ –ª–æ–≥—ñ–∫–∏](#–ø–æ–º–∏–ª–∫–∏-—Ç–∏–ø—É-—Ç–∞-–ª–æ–≥—ñ–∫–∏)
4. [–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏](#—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ-–ø—Ä–æ–±–ª–µ–º–∏)
5. [–ü—Ä–æ–±–ª–µ–º–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó](#–ø—Ä–æ–±–ª–µ–º–∏-–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó)
6. [Frontend –ø—Ä–æ–±–ª–µ–º–∏](#frontend-–ø—Ä–æ–±–ª–µ–º–∏)
7. [–Ü—Å—Ç–æ—Ä—ñ—è —Å–ø—Ä–æ–± –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è](#—ñ—Å—Ç–æ—Ä—ñ—è-—Å–ø—Ä–æ–±-–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è)
8. [–ù–µ–≤–∏—Ä—ñ—à–µ–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è](#–Ω–µ–≤–∏—Ä—ñ—à–µ–Ω—ñ-–ø–∏—Ç–∞–Ω–Ω—è)

---

## üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏ (—â–æ –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å)

### 1. –í—ñ–¥—Å—É—Ç–Ω—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `export_document()` –≤ DocumentService

**–§–∞–π–ª:** `apps/api/app/services/document_service.py`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–µ—Ç–æ–¥ `export_document()` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –≤ endpoint `/api/v1/documents/{id}/export/{format}`
- –ú–µ—Ç–æ–¥ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —É –∫–ª–∞—Å—ñ `DocumentService`
- –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É endpoint –ø–æ–≤–µ—Ä—Ç–∞—î `AttributeError: 'DocumentService' object has no attribute 'export_document'`

**–ö–æ–¥ –≤–∏–∫–ª–∏–∫—É (–¥–æ–∫—É–º–µ–Ω—Ç–∏.py:185):**
```python
result = await document_service.export_document(
    document_id,
    export_request.format,
    current_user.id
)
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
–ú–µ—Ç–æ–¥ –ø–æ–≤–∏–Ω–µ–Ω:
1. –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç –∑ –ë–î
2. –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ .docx –∞–±–æ .pdf —Ñ–∞–π–ª
3. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤ MinIO/S3
4. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ URL –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

**–í–ø–ª–∏–≤:** ‚ùå **–ö–†–ò–¢–ò–ß–ù–û** - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –Ω–µ –º–æ–∂—É—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≥–æ—Ç–æ–≤—ñ —Ä–æ–±–æ—Ç–∏

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 2. –ü–æ–º–∏–ª–∫–∞ –∑ `time.time()` –∑–∞–º—ñ—Å—Ç—å `datetime` –≤ AIService

**–§–∞–π–ª:** `apps/api/app/services/ai_service.py:143`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
section.completed_at = time.time()  # ‚ùå –ü–æ–º–∏–ª–∫–∞!
```

**–î–µ—Ç–∞–ª—ñ:**
- `time.time()` –ø–æ–≤–µ—Ä—Ç–∞—î `float` (timestamp)
- –ü–æ–ª–µ `completed_at` –≤ –º–æ–¥–µ–ª—ñ `DocumentSection` –º–∞—î —Ç–∏–ø `DateTime`
- SQLAlchemy –æ—á—ñ–∫—É—î `datetime.datetime` –æ–±'—î–∫—Ç

**–û—á—ñ–∫—É–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
from datetime import datetime
section.completed_at = datetime.utcnow()
```

**–í–ø–ª–∏–≤:** ‚ùå **–ö–†–ò–¢–ò–ß–ù–û** - –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ —Ä–æ–∑–¥—ñ–ª—É –≤ –ë–î

**–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ:**
```
TypeError: expected datetime.datetime object, got float
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π SQL –∑–∞–ø–∏—Ç –≤ `get_user_usage()`

**–§–∞–π–ª:** `apps/api/app/services/ai_service.py:188-192`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
result = await self.db.execute(
    select(
        Document.total_documents_created,  # ‚ùå –¶–µ –ø–æ–ª–µ –Ω–µ —ñ—Å–Ω—É—î!
        Document.total_tokens_used          # ‚ùå –¶–µ –ø–æ–ª–µ –Ω–µ —ñ—Å–Ω—É—î!
    ).where(Document.user_id == user_id)
)
```

**–î–µ—Ç–∞–ª—ñ:**
- –ü–æ–ª—è `total_documents_created` —Ç–∞ `total_tokens_used` –Ω–µ —ñ—Å–Ω—É—é—Ç—å —É –º–æ–¥–µ–ª—ñ `Document`
- –ü–æ—Ç—Ä—ñ–±–Ω–æ —Ä–∞—Ö—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ –∞–≥—Ä–µ–≥–∞—Ü—ñ—é

**–û—á—ñ–∫—É–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
from sqlalchemy import func
result = await self.db.execute(
    select(
        func.count(Document.id).label('total_documents'),
        func.sum(Document.tokens_used).label('total_tokens')
    ).where(Document.user_id == user_id)
)
```

**–í–ø–ª–∏–≤:** ‚ùå **–ö–†–ò–¢–ò–ß–ù–û** - Endpoint `/api/v1/generate/usage/{user_id}` –Ω–µ –ø—Ä–∞—Ü—é—î

**–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ:**
```
AttributeError: type object 'Document' has no attribute 'total_documents_created'
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 4. –ü—Ä–æ–±–ª–µ–º–∞ –≤ `DocumentService.create_document()` - –Ω–µ—ñ—Å–Ω—É—é—á–µ –ø–æ–ª–µ

**–§–∞–π–ª:** `apps/api/app/services/document_service.py:52-56`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
await self.db.execute(
    update(Document)
    .where(Document.user_id == user_id)
    .values(total_documents_created=Document.total_documents_created + 1)
)
```

**–î–µ—Ç–∞–ª—ñ:**
- `Document.total_documents_created` –Ω–µ —ñ—Å–Ω—É—î
- –ü–æ—Ç—Ä—ñ–±–Ω–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å `User` –∞–±–æ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –∫–æ–¥

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–û–ú–ò–õ–ö–ê** - –ö–æ–¥ –≤–∏–∫–ª–∏—á–µ –ø–æ–º–∏–ª–∫—É –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 5. Rate Limit Initialization Bug

**–§–∞–π–ª:** `apps/api/app/middleware/rate_limit.py:226`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
storage_options=None  # ‚ùå –í–∏–∫–ª–∏–∫–∞—î AttributeError
```

**–î–µ—Ç–∞–ª—ñ:**
- `storage_options=None` –≤–∏–∫–ª–∏–∫–∞—î `AttributeError` –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ memory storage
- –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ `storage_options={}`

**–û—á—ñ–∫—É–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
storage_options={}  # –î–ª—è memory storage
```

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - Rate limiting –º–æ–∂–µ –Ω–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏—Å—è

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ (–≤—ñ–¥–∑–Ω–∞—á–µ–Ω–æ –≤ PROJECT_UPDATE.md)

---

## üü° –í—ñ–¥—Å—É—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### 1. –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç–∏ (Payment Integration)

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û**

**–©–æ –º–∞—î –±—É—Ç–∏:**
- Endpoint `/api/v1/payment/create` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–ª–∞—Ç–µ–∂—É
- Endpoint `/api/v1/payment/webhook` - –æ–±—Ä–æ–±–∫–∞ webhook –≤—ñ–¥ Stripe/Fondy
- –ú–æ–¥–µ–ª—å `Payment` –≤ –ë–î
- –°–µ—Ä–≤—ñ—Å `PaymentService`
- Frontend —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –æ–ø–ª–∞—Ç–∏

**–ó–≥—ñ–¥–Ω–æ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é:**
- –†–æ–∑–¥—ñ–ª 2.3: "–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –æ–ø–ª–∞—Ç–∏"
- –ü–æ—Ç—Ä—ñ–±–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Stripe –∞–±–æ Fondy
- –û–ø–ª–∞—Ç–∞ –∑–∞ —Ä–æ–±–æ—Ç—É (–±–µ–∑ –ø—ñ–¥–ø–∏—Å–æ–∫)

**–í–ø–ª–∏–≤:** ‚ùå **–ö–†–ò–¢–ò–ß–ù–û** - –ù–µ–º–æ–∂–ª–∏–≤–æ –º–æ–Ω–µ—Ç–∏–∑—É–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

---

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–≥—ñ–∞—Ç—É (Plagiarism Check)

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û**

**–©–æ –º–∞—î –±—É—Ç–∏:**
- Endpoint `/api/v1/plagiarism/check`
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Copyleaks –∞–±–æ PlagiarismSearch
- –ú–æ–¥–µ–ª—å `PlagiarismReport` –≤ –ë–î
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–≤—ñ—Ç—É –ø—ñ—Å–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- Frontend –¥–ª—è –ø–æ–∫–∞–∑—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

**–ó–≥—ñ–¥–Ω–æ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é:**
- –†–æ–∑–¥—ñ–ª 2.6: "–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–≥—ñ–∞—Ç—É"
- –û–¥–∏–Ω –∑ –∫–ª—é—á–æ–≤–∏—Ö –≤–∏–º–æ–≥ MVP: —Ä—ñ–≤–µ–Ω—å –ø–ª–∞–≥—ñ–∞—Ç—É ‚â§ 15%

**–í–ø–ª–∏–≤:** ‚ùå **–ö–†–ò–¢–ò–ß–ù–û** - –ù–µ–º–æ–∂–ª–∏–≤–æ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ —è–∫—ñ—Å—Ç—å

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

---

### 3. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ .docx —Ç–∞ .pdf

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–ê–°–¢–ö–û–í–û –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û**

**–©–æ —î:**
- ‚úÖ Endpoint `/api/v1/documents/{id}/export/{format}` —ñ—Å–Ω—É—î
- ‚úÖ –ú–æ–¥–µ–ª—å `Document` –º–∞—î –ø–æ–ª—è `docx_path` —Ç–∞ `pdf_path`
- ‚úÖ –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ (`python-docx`, `weasyprint`, `reportlab`)

**–©–æ –≤—ñ–¥—Å—É—Ç–Ω—î:**
- ‚ùå –ú–µ—Ç–æ–¥ `export_document()` –≤ `DocumentService` –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π
- ‚ùå –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è .docx –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è–º:
  - –¢–∏—Ç—É–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
  - –ó–º—ñ—Å—Ç (Table of Contents)
  - –†–æ–∑–¥—ñ–ª–∏ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –≤—ñ–¥—Å—Ç—É–ø–∞–º–∏
  - –°–ø–∏—Å–æ–∫ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∏
  - –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ü–∏—Ç–∞—Ç
- ‚ùå –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è .pdf:
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –∑ .docx –∞–±–æ –ø—Ä—è–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
  - –ü—Ä–∞–≤–∏–ª—å–Ω—ñ —à—Ä–∏—Ñ—Ç–∏ —Ç–∞ –≤—ñ–¥—Å—Ç—É–ø–∏

**–ó–≥—ñ–¥–Ω–æ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:**
- –†–æ–∑–¥—ñ–ª 2.7: "–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤"
- –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è .docx (—Ä—è–¥–∫–∏ 1098-1172)

**–í–ø–ª–∏–≤:** ‚ùå **–ö–†–ò–¢–ò–ß–ù–û** - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –Ω–µ –º–æ–∂—É—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–æ–±–æ—Ç–∏

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 4. Email —Å–µ—Ä–≤—ñ—Å –¥–ª—è Magic Links

**–§–∞–π–ª:** `apps/api/app/services/auth_service.py:67`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# TODO: Send email with magic link
# For now, we'll just return the token for development
magic_link = f"http://localhost:3000/auth/verify?token={token}"
```

**–î–µ—Ç–∞–ª—ñ:**
- Email –Ω–µ –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è
- –¢–æ–∫–µ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –≤ response (—Ç—ñ–ª—å–∫–∏ –¥–ª—è development)
- –í production —Ü–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - Magic links –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å –≤ production

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ (TODO –∑–∞–ª–∏—à–µ–Ω–æ)

---

### 5. –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ü–∏—Ç–∞—Ç –Ω–∞ hallucinations

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û**

**–©–æ –º–∞—î –±—É—Ç–∏:**
- –§—É–Ω–∫—Ü—ñ—è `validate_citations()` –∑–≥—ñ–¥–Ω–æ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é (—Ä—è–¥–∫–∏ 1191-1217)
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —â–æ –≤—Å—ñ —Ü–∏—Ç–∞—Ç–∏ –≤ —Ç–µ–∫—Å—Ç—ñ —î —É —Å–ø–∏—Å–∫—É –¥–∂–µ—Ä–µ–ª
- –í—ñ–¥–∫–∏–¥–∞–Ω–Ω—è –Ω–µ—ñ—Å–Ω—É—é—á–∏—Ö —Ü–∏—Ç–∞—Ç

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û** - AI –º–æ–∂–µ –≤–∏–≥–∞–¥—É–≤–∞—Ç–∏ –¥–∂–µ—Ä–µ–ª–∞

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

---

## üü† –ü–æ–º–∏–ª–∫–∏ —Ç–∏–ø—É —Ç–∞ –ª–æ–≥—ñ–∫–∏

### 1. Type Annotation Issue –≤ exceptions.py

**–§–∞–π–ª:** `apps/api/app/core/exceptions.py:11`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
error_code: str = None  # ‚ùå –ü–æ–º–∏–ª–∫–∞ —Ç–∏–ø—É
```

**–î–µ—Ç–∞–ª—ñ:**
- `error_code: str` –∑ default `None` –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ `Optional[str]`

**–û—á—ñ–∫—É–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
from typing import Optional
error_code: Optional[str] = None
```

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–û–ú–ò–õ–ö–ê –¢–ò–ü–£** - MyPy –ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ (–≤—ñ–¥–∑–Ω–∞—á–µ–Ω–æ –≤ PROJECT_UPDATE.md)

---

### 2. –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø–∞—Ä—Å–∏–Ω–≥–æ–º outline –≤ `generate_outline()`

**–§–∞–π–ª:** `apps/api/app/services/ai_service.py:46-50`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
outline_data = await self._call_ai_provider(...)
```

**–î–µ—Ç–∞–ª—ñ:**
- `_call_ai_provider()` –ø–æ–≤–µ—Ä—Ç–∞—î `{"content": str, "tokens_used": int}`
- –ê–ª–µ `generate_outline()` –æ—á—ñ–∫—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π JSON –∑ outline
- –ù–µ–º–∞—î –ø–∞—Ä—Å–∏–Ω–≥—É JSON –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ AI

**–û—á—ñ–∫—É–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
import json
response = await self._call_ai_provider(...)
outline_data = json.loads(response["content"])
```

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - Outline –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —è–∫ —Ç–µ–∫—Å—Ç, –∞ –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 3. –í—ñ–¥—Å—É—Ç–Ω—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è RAG —É AIService

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `SectionGenerator` —ñ—Å–Ω—É—î —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä—É—î RAG, citations —Ç–∞ humanizer
- `AIService.generate_section()` –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `SectionGenerator`
- RAG –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ä–æ–∑–¥—ñ–ª—ñ–≤

**–§–∞–π–ª–∏:**
- `apps/api/app/services/ai_pipeline/generator.py` - `SectionGenerator` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
- `apps/api/app/services/ai_service.py` - –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `SectionGenerator`

**–í–ø–ª–∏–≤:** ‚ùå **–ö–†–ò–¢–ò–ß–ù–û** - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–æ–∑–¥—ñ–ª—ñ–≤ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ–∞–ª—å–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞ ‚Üí hallucinations

**–û—á—ñ–∫—É–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
# –í AIService.generate_section()
from app.services.ai_pipeline.generator import SectionGenerator

generator = SectionGenerator()
result = await generator.generate_section(
    document=document,
    section_title=section_title,
    section_index=section_index,
    provider=document.ai_provider,
    model=document.ai_model,
    citation_style=CitationStyle.APA,  # –∞–±–æ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
    humanize=False
)
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

## üîµ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 1. Frontend –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ–∞–ª—å–Ω—ñ API endpoints

**–§–∞–π–ª:** `apps/web/components/dashboard/GenerateSectionForm.tsx:77-92`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
// TODO: Replace with actual API call
const response = await fetch('/api/v1/generate/outline', {
  // TODO: Add authentication header
})
```

**–î–µ—Ç–∞–ª—ñ:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `/api/v1/generate/outline` –±–µ–∑ –±–∞–∑–æ–≤–æ–≥–æ URL
- –ù–µ–º–∞—î authentication header
- –ù–µ–º–∞—î –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫

**–û—á—ñ–∫—É–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```typescript
const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/v1/generate/outline`, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}` // –∑ localStorage –∞–±–æ context
  },
  body: JSON.stringify(data)
})
```

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - Frontend –Ω–µ –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ backend

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ (TODO –∑–∞–ª–∏—à–µ–Ω–æ)

---

### 2. AuthProvider –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–æ–∫–µ–Ω –∑ backend

**–§–∞–π–ª:** `apps/web/components/providers/AuthProvider.tsx:52`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
// TODO: Verify token with backend
// For now, just check if token exists
```

**–î–µ—Ç–∞–ª—ñ:**
- –¢–æ–∫–µ–Ω –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `/api/v1/auth/me`
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ localStorage

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - –ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –≤–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å —Ç–æ–∫–µ–Ω—É

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ (TODO –∑–∞–ª–∏—à–µ–Ω–æ)

---

### 3. –í—ñ–¥—Å—É—Ç–Ω—ñ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –≤ Dashboard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

**–§–∞–π–ª–∏:**
- `apps/web/components/dashboard/DocumentsList.tsx:45` - `// TODO: Fetch real documents from API`
- `apps/web/components/dashboard/StatsOverview.tsx:23` - `// TODO: Fetch real stats from API`
- `apps/web/components/dashboard/RecentActivity.tsx:49` - `// TODO: Fetch real activities from API`

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - Dashboard –ø–æ–∫–∞–∑—É—î –ø—É—Å—Ç—ñ –¥–∞–Ω—ñ

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ (TODO –∑–∞–ª–∏—à–µ–Ω–æ)

---

## ‚öôÔ∏è –ü—Ä–æ–±–ª–µ–º–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### 1. –í—ñ–¥—Å—É—Ç–Ω—ñ –ø–æ–ª—è –≤ –º–æ–¥–µ–ª—ñ Document

**–§–∞–π–ª:** `apps/api/app/models/document.py`

**–í—ñ–¥—Å—É—Ç–Ω—ñ –ø–æ–ª—è:**
- ‚ùå `work_type` (bachelor/master/coursework)
- ‚ùå `citation_style` (APA/MLA/Chicago)

**–ó–≥—ñ–¥–Ω–æ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é:**
- –†–æ–∑–¥—ñ–ª 2.1: –§–æ—Ä–º–∞ –º–∞—î –ø–æ–ª—è –¥–ª—è —Ç–∏–ø—É —Ä–æ–±–æ—Ç–∏ —Ç–∞ —Å—Ç–∏–ª—é —Ü–∏—Ç—É–≤–∞–Ω–Ω—è

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - –ù–µ–º–æ–∂–ª–∏–≤–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ç–∏–ø —Ä–æ–±–æ—Ç–∏ —Ç–∞ —Å—Ç–∏–ª—å —Ü–∏—Ç—É–≤–∞–Ω–Ω—è

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 2. –ü—Ä–æ–º–ø—Ç–∏ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

**–§–∞–π–ª–∏:**
- `apps/api/app/services/ai_service.py:285-317` - `_build_outline_prompt()`
- `apps/api/app/services/ai_pipeline/prompt_builder.py:15-53` - `build_outline_prompt()`

**–ü—Ä–æ–±–ª–µ–º–∏:**
- ‚ùå –ù–µ–º–∞—î —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó
- ‚ùå –ù–µ–º–∞—î –¥–µ—Ç–∞–ª—å–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤—Å—Ç—É–ø—É (–∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å, –º–µ—Ç–∞, –∑–∞–≤–¥–∞–Ω–Ω—è, –æ–±'—î–∫—Ç, –ø—Ä–µ–¥–º–µ—Ç)
- ‚ùå –ù–µ–º–∞—î JSON —Ñ–æ—Ä–º–∞—Ç—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- ‚ùå –ù–µ–º–∞—î –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ç–∏–ø—ñ–≤ —Ä–æ–±—ñ—Ç (–±–∞–∫–∞–ª–∞–≤—Ä—Å—å–∫–∞, –º–∞–≥—ñ—Å—Ç–µ—Ä—Å—å–∫–∞, –∫—É—Ä—Å–æ–≤–∞)

**–ó–≥—ñ–¥–Ω–æ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é:**
- –†–æ–∑–¥—ñ–ª AI-–ø–∞–π–ø–ª–∞–π–Ω, –ö—Ä–æ–∫ 1 (—Ä—è–¥–∫–∏ 639-698)
- –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑ JSON —Ñ–æ—Ä–º–∞—Ç–æ–º

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π –ø—Ä–æ–º–ø—Ç (–∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó):**
```python
def build_outline_prompt(topic: str, work_type: str, pages: int, citation_style: str) -> str:
    work_types_ua = {
        "bachelor": "–±–∞–∫–∞–ª–∞–≤—Ä—Å—å–∫–∞ —Ä–æ–±–æ—Ç–∞",
        "master": "–º–∞–≥—ñ—Å—Ç–µ—Ä—Å—å–∫–∞ –¥–∏—Å–µ—Ä—Ç–∞—Ü—ñ—è",
        "coursework": "–∫—É—Ä—Å–æ–≤–∞ —Ä–æ–±–æ—Ç–∞"
    }
    return f"""–¢–∏ - –µ–∫—Å–ø–µ—Ä—Ç –∑ –∞–∫–∞–¥–µ–º—ñ—á–Ω–æ–≥–æ –ø–∏—Å—å–º–∞. –°—Ç–≤–æ—Ä–∏ –¥–µ—Ç–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è {work_types_ua[work_type]}...
    """
```

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û** - AI –≥–µ–Ω–µ—Ä—É—î –Ω–µ —Ç–µ, —â–æ –æ—á—ñ–∫—É—î—Ç—å—Å—è

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

## üì± Frontend –ø—Ä–æ–±–ª–µ–º–∏

### 1. –í—ñ–¥—Å—É—Ç–Ω—ñ–π Ukrainian language —É —Ñ–æ—Ä–º—ñ

**–§–∞–π–ª:** `apps/web/components/dashboard/GenerateSectionForm.tsx:22-33`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const languages = [
  { value: 'en', label: 'English' },
  // ... —ñ–Ω—à—ñ –º–æ–≤–∏
  // ‚ùå –ù–µ–º–∞—î —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó ('uk')
]
```

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - –ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–±—Ä–∞—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –º–æ–≤—É

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 2. –í—ñ–¥—Å—É—Ç–Ω—ñ –ø–æ–ª—è —Ç–∏–ø—É —Ä–æ–±–æ—Ç–∏ —Ç–∞ —Å—Ç–∏–ª—é —Ü–∏—Ç—É–≤–∞–Ω–Ω—è

**–§–∞–π–ª:** `apps/web/components/dashboard/GenerateSectionForm.tsx:11-18`

**–ü—Ä–æ–±–ª–µ–º–∞:**
–°—Ö–µ–º–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –Ω–µ –º—ñ—Å—Ç–∏—Ç—å:
- `workType` (bachelor/master/coursework)
- `citationStyle` (APA/MLA/Chicago)

**–í–ø–ª–∏–≤:** ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê** - –ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–±—Ä–∞—Ç–∏ —Ç–∏–ø —Ä–æ–±–æ—Ç–∏ —Ç–∞ —Å—Ç–∏–ª—å —Ü–∏—Ç—É–≤–∞–Ω–Ω—è

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

## üìö –Ü—Å—Ç–æ—Ä—ñ—è —Å–ø—Ä–æ–± –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### Batch #1 —Ç–∞ #2 (Security)

**–©–æ —Ä–æ–±–∏–ª–æ—Å—è:**
- –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–µ–∑–ø–µ–∫–∏ (CSRF, rate limiting, CORS)
- –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- Prometheus metrics
- Admin endpoints

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø—ñ—à–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

---

### Phase 1.1 (Ruff Auto-fix)

**–©–æ —Ä–æ–±–∏–ª–æ—Å—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ Ruff
- –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø—ñ—à–Ω–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –±–∞–≥–∞—Ç–æ –ø–æ–º–∏–ª–æ–∫

**–§–∞–π–ª–∏ –ª–æ–≥—ñ–≤:** `logs/tasks/ruff-autofix/`

---

### Phase 1.2 (Quality Gate)

**–©–æ —Ä–æ–±–∏–ª–æ—Å—è:**
- Python 3.11 enforcement
- Pytest smoke tests
- MyPy blocking errors fix
- CI workflow setup

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø—ñ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç—å quality gates

**–§–∞–π–ª:** `apps/api/QA_SUMMARY.md`

---

### Manual Fixes (logs/tasks/manual-fix/)

**–©–æ —Ä–æ–±–∏–ª–æ—Å—è:**
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ E402, F401, B028, B904
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è Python environment

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ö†Ô∏è –ß–∞—Å—Ç–∫–æ–≤–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ (–¥–µ—è–∫—ñ –ø–æ–º–∏–ª–∫–∏ –∑–∞–ª–∏—à–∏–ª–∏—Å—è)

---

## ‚ùì –ù–µ–≤–∏—Ä—ñ—à–µ–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

### 1. –ß–∏ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –æ–∫—Ä–µ–º–∞ —Ç–∞–±–ª–∏—Ü—è –¥–ª—è Payment?

**–ü–∏—Ç–∞–Ω–Ω—è:** –Ø–∫ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–ª–∞—Ç–µ–∂—ñ?

**–í–∞—Ä—ñ–∞–Ω—Ç–∏:**
- –û–∫—Ä–µ–º–∞ —Ç–∞–±–ª–∏—Ü—è `payments`
- –ü–æ–ª–µ `payment_status` –≤ —Ç–∞–±–ª–∏—Ü—ñ `documents`
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º —Å–µ—Ä–≤—ñ—Å–æ–º (Stripe/Fondy)

**–°—Ç–∞—Ç—É—Å:** ‚ùì –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 2. –Ø–∫ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ Semantic Scholar API –±–µ–∑ API –∫–ª—é—á–∞?

**–ü–∏—Ç–∞–Ω–Ω—è:** Semantic Scholar API –º–∞—î –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier, –∞–ª–µ –∑ rate limits

**–í–∞—Ä—ñ–∞–Ω—Ç–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–µ–∑ API –∫–ª—é—á–∞ (–æ–±–º–µ–∂–µ–Ω–Ω—è 100 req/5min)
- –û—Ç—Ä–∏–º–∞—Ç–∏ API –∫–ª—é—á –¥–ª—è –±—ñ–ª—å—à–æ–≥–æ –ª—ñ–º—ñ—Ç—É
- –ö–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (–≤–∂–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ RAGRetriever)

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ü—Ä–∞—Ü—é—î –±–µ–∑ –∫–ª—é—á–∞, –∞–ª–µ –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏

---

### 3. –Ø–∫ –æ–±—Ä–æ–±–ª—è—Ç–∏ –ø–æ–º–∏–ª–∫–∏ AI API (rate limits, timeout)?

**–ü–∏—Ç–∞–Ω–Ω—è:** –©–æ —Ä–æ–±–∏—Ç–∏, –∫–æ–ª–∏ OpenAI/Anthropic API –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–º–∏–ª–∫—É?

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:**
- –ë–∞–∑–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –≤ `_call_openai()` —Ç–∞ `_call_anthropic()`
- –ü–æ–º–∏–ª–∫–∏ –ª–æ–≥—É—é—Ç—å—Å—è, –∞–ª–µ –Ω–µ–º–∞—î retry logic

**–ü–æ—Ç—Ä—ñ–±–Ω–æ:**
- Retry logic –∑ exponential backoff
- Fallback –Ω–∞ —ñ–Ω—à–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π)
- Queue system –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –≥–µ–Ω–µ—Ä–∞—Ü—ñ–π

**–°—Ç–∞—Ç—É—Å:** ‚ùì –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

### 4. –Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –±–µ–∑ —Ä–µ–∞–ª—å–Ω–∏—Ö API –∫–ª—é—á—ñ–≤?

**–ü–∏—Ç–∞–Ω–Ω—è:** Unit —Ç–µ—Å—Ç–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –º–æ–∫—ñ–≤ –¥–ª—è AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:**
- –ù–µ–º–∞—î –º–æ–∫—ñ–≤ –¥–ª—è OpenAI/Anthropic
- –¢–µ—Å—Ç–∏ –Ω–µ –ø–æ–∫—Ä–∏–≤–∞—é—Ç—å AI —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

**–ü–æ—Ç—Ä—ñ–±–Ω–æ:**
- –ú–æ–∫–∏ –¥–ª—è AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤
- Integration —Ç–µ—Å—Ç–∏ –∑ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –∫–ª—é—á–∞–º–∏
- –í—ñ–¥–æ–∫—Ä–µ–º–ª–µ–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ –≤—ñ–¥ production

**–°—Ç–∞—Ç—É—Å:** ‚ùì –ù–µ –≤–∏—Ä—ñ—à–µ–Ω–æ

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

| –ö–∞—Ç–µ–≥–æ—Ä—ñ—è | –ö—ñ–ª—å–∫—ñ—Å—Ç—å | –ö—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å |
|-----------|-----------|-------------|
| –ö—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏ | 5 | üî¥ –í–∏—Å–æ–∫–æ |
| –í—ñ–¥—Å—É—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó | 5 | üî¥ –í–∏—Å–æ–∫–æ |
| –ü–æ–º–∏–ª–∫–∏ —Ç–∏–ø—É | 3 | üü† –°–µ—Ä–µ–¥–Ω—å–æ |
| –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ | 3 | üü† –°–µ—Ä–µ–¥–Ω—å–æ |
| –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è | 2 | üü° –ù–∏–∑—å–∫–æ |
| Frontend | 2 | üü° –ù–∏–∑—å–∫–æ |
| **–í—Å—å–æ–≥–æ** | **20** | |

---

## üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ - –±–ª–æ–∫—É—é—Ç—å —Ä–æ–±–æ—Ç—É)
1. ‚úÖ –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `export_document()` –≤ DocumentService
2. ‚úÖ –í–∏–ø—Ä–∞–≤–∏—Ç–∏ `time.time()` ‚Üí `datetime.utcnow()` –≤ ai_service.py
3. ‚úÖ –í–∏–ø—Ä–∞–≤–∏—Ç–∏ SQL –∑–∞–ø–∏—Ç –≤ `get_user_usage()`
4. ‚úÖ –í–∏–¥–∞–ª–∏—Ç–∏/–≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –∫–æ–¥ –∑ `total_documents_created` –≤ create_document()

### –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–ª–∏–≤–æ - –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ)
5. ‚úÖ –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ SectionGenerator –≤ AIService
6. ‚úÖ –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –æ–ø–ª–∞—Ç–∏
7. ‚úÖ –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –ø–ª–∞–≥—ñ–∞—Ç—É
8. ‚úÖ –î–æ–¥–∞—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥ JSON –¥–ª—è outline
9. ‚úÖ –í–∏–ø—Ä–∞–≤–∏—Ç–∏ type annotation –≤ exceptions.py

### –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 3 (–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è)
10. ‚úÖ –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ–º–ø—Ç–∏ –∑–≥—ñ–¥–Ω–æ –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é
11. ‚úÖ –î–æ–¥–∞—Ç–∏ –ø–æ–ª—è work_type —Ç–∞ citation_style –≤ –º–æ–¥–µ–ª—å Document
12. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ email —Å–µ—Ä–≤—ñ—Å –¥–ª—è magic links
13. ‚úÖ –í–∏–ø—Ä–∞–≤–∏—Ç–∏ frontend API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é
14. ‚úÖ –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é —Ü–∏—Ç–∞—Ç

---

## üìù –í–∏—Å–Ω–æ–≤–æ–∫

–ü—Ä–æ–µ–∫—Ç –º–∞—î **–º—ñ—Ü–Ω—É —Ç–µ—Ö–Ω—ñ—á–Ω—É –æ—Å–Ω–æ–≤—É**, –∞–ª–µ —î **20+ –ø—Ä–æ–±–ª–µ–º**, —è–∫—ñ –±–ª–æ–∫—É—é—Ç—å –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—É —Ä–æ–±–æ—Ç—É:

**–ö—Ä–∏—Ç–∏—á–Ω—ñ:**
- –í—ñ–¥—Å—É—Ç–Ω—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –µ–∫—Å–ø–æ—Ä—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- –ü–æ–º–∏–ª–∫–∏ –≤ –∫–æ–¥—ñ (time.time, SQL –∑–∞–ø–∏—Ç–∏)
- –í—ñ–¥—Å—É—Ç–Ω—è —Å–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç–∏
- –í—ñ–¥—Å—É—Ç–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–≥—ñ–∞—Ç—É

**–í–∞–∂–ª–∏–≤—ñ:**
- RAG –Ω–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π —É –æ—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å
- –ü—Ä–æ–º–ø—Ç–∏ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
- Frontend –Ω–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π –∑ backend

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –°–ø–æ—á–∞—Ç–∫—É –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏ (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 1), –ø–æ—Ç—ñ–º –¥–æ–¥–∞—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 2).

**–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å:** 2-3 —Ç–∏–∂–Ω—ñ –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º.

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 31 —Å—ñ—á–Ω—è 2025  
**–î–æ–∫—É–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è:** –ü–æ—à—É–∫—É —Ä—ñ—à–µ–Ω—å —É –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –¥–∂–µ—Ä–µ–ª–∞—Ö

